(this["webpackJsonpblog-auth-api-formik"]=this["webpackJsonpblog-auth-api-formik"]||[]).push([[0],{109:function(e,t,a){e.exports={header:"Header_header__3LSIY",info:"Header_info__1cRUH",nameUser:"Header_nameUser__6XyPG",linkUser:"Header_linkUser__1zl_M",linkUserText:"Header_linkUserText__X7zRj"}},201:function(e,t,a){e.exports=a(294)},207:function(e,t,a){},21:function(e,t,a){e.exports={formAuth:"Auth_formAuth__2tuew",title:"Auth_title__26x_r",btnsWrap:"Auth_btnsWrap__2KI2g",successModal:"Auth_successModal__3QZVr"}},294:function(e,t,a){"use strict";a.r(t);var r,n,c=a(0),i=a.n(c),s=a(27),l=a.n(s),u=(a(206),a(207),a(13)),o=a(109),m=a.n(o),d=a(298),p=a(10),b=a(308),h=a(309),f=a(23),E=a(5),A=a.n(E),O=a(6),g=a(306),v=a(2),j=a(31),_=a.n(j),L="https://conduit.productionready.io/api",k={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},json:!0},S=function(){var e=Object(O.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()(Object(v.a)(Object(v.a)({},k),{},{data:JSON.stringify(t),url:"".concat(L,"/users")}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(O.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()(Object(v.a)(Object(v.a)({},k),{},{data:JSON.stringify(t),url:"".concat(L,"/users/login")}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=a(175),y=a(176),N=a(304),U=a(296),T=a(297),I=a(307),C=Object(g.a)("ERROR_NETWORK"),R=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},F=function(){function e(t,a){Object(w.a)(this,e),this.timeNow=t,this.timeCreatedAt=a}return Object(y.a)(e,[{key:"getDay",value:function(){return Object(N.a)(this.timeNow,this.timeCreatedAt)}},{key:"getHours",value:function(){var e=Object(U.a)(this.timeNow,this.timeCreatedAt);return e%=24}},{key:"getMinutes",value:function(){var e=Object(T.a)(this.timeNow,this.timeCreatedAt);return e%=60}}]),e}(),W=function(e){var t=new F(new Date,Object(I.a)(e)),a=t.getDay(),r=t.getHours(),n=t.getMinutes(),c=function(e,t){return 0!==e?"".concat(e," ").concat(t):""};return 0===a&&0===r&&0===n?"now":"".concat(c(a,"days")," ").concat(c(r,"hours")," ").concat(c(n,"minutes")," ago")},V=function(e,t,a){"Network Error"===e.message&&a(C({error:e})),e.response.data.errors["email or password"]&&(t("email","email or password is invalid"),t("password","email or password is invalid"))},D=function(e,t,a){"Network Error"===e.message&&a(C({error:e}));var r=e.response.data.errors;for(var n in r)t(n.toString(),r[n][0])},H=Object(g.a)("USER_SIGNUP_REQUEST"),P=Object(g.a)("USER_SIGNUP_SUCCESS"),G=Object(g.a)("USER_SIGNUP_FAILURE"),z=Object(g.a)("USER_SIGNIN_REQUEST"),q=Object(g.a)("USER_SIGNIN_SUCCESS"),B=Object(g.a)("USER_SIGNIN_FAILURE"),K=Object(g.a)("LOG_OUT_PROFILE"),M=Object(g.a)("USER_FIRST_VALIDATE_REQUEST"),J=Object(g.a)("USER_FIRST_VALIDATE_SUCCESS"),Q=Object(g.a)("USER_FIRST_VALIDATE_FAILURE"),X=Object(p.b)((function(e){return{username:e.reducerAuth.currentUser.username,isAuth:e.reducerAuth.currentUser.isAuth}}))((function(e){var t=e.isAuth,a=e.dispatch,r=e.username,n=function(){var e;e="currentUser",localStorage.removeItem(e),a(K({isAuth:!1,isLoadingAuth:!1,name:null,token:null}))};return i.a.createElement("div",{className:m.a.header},i.a.createElement(d.a,{orientation:"left",style:{minWidth:"0"}},"Blog"),i.a.createElement("div",{className:m.a.info},t||localStorage.currentUser?i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:m.a.nameUser},r),i.a.createElement(b.a,{style:{fontSize:"24px"},onClick:n})):i.a.createElement(f.b,{to:"/sign-in",className:m.a.linkUser},i.a.createElement("span",{className:m.a.linkUserText},"Sign in"),i.a.createElement(h.a,null))))})),Y=a(21),Z=a.n(Y),$=a(35),ee=a(305),te=a(15),ae=a(310),re=a(311),ne=a(84),ce=function(e){return i.a.createElement("span",{style:{color:"red"}},e)},ie=function(e){var t=e.name,a=Object(ne.a)(e,["name"]);return i.a.createElement("div",null,i.a.createElement(ee.a.TextArea,Object.assign({name:t},a)),i.a.createElement($.a,{name:t},(function(e){return ce(e)})))},se=function(e){var t=e.name,a=Object(ne.a)(e,["name"]);return i.a.createElement("div",null,i.a.createElement(ee.a,Object.assign({name:t},a)),i.a.createElement($.a,{name:t},(function(e){return ce(e)})))},le=Object(p.b)((function(e){return{isLoadingAuth:e.reducerAuth.currentUser.isLoadingAuth}}),{signInAuth:function(e){var t=e.username,a=e.email,r=e.password,n=e.setFieldError;return function(){var e=Object(O.a)(A.a.mark((function e(c){var i,s,l,u,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(z({isLoadingAuth:!0})),e.prev=1,i={user:{email:a,password:r,username:t}},e.next=5,x(i);case 5:return s=e.sent,e.next=8,s.data.user.token;case 8:return l=e.sent,e.next=11,s.data.user.username;case 11:return u=e.sent,R("currentUser",o={isAuth:!0,name:u,token:l,isLoadingAuth:!1}),e.next=16,c(q({currentUser:o,isFirstValidate:!0}));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),V(e.t0,n,c),c(B({isAuth:!1,isLoadingAuth:!1}));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=te.a().shape({email:te.b().email("Not correct email").required("Enter email"),password:te.b().required("Enter password")});return i.a.createElement("div",null,i.a.createElement($.d,{initialValues:{email:"toniktoo@gmail.com",password:"Swimm1998er"},validationSchema:function(){return t},onSubmit:function(t,a){var r=a.setFieldError,n=t.email,c=t.password;e.signInAuth({email:n,password:c,setFieldError:r})}},(function(t){return function(t){return e.isLoadingAuth?i.a.createElement("div",{className:Z.a.loaderWrap},i.a.createElement(ae.a,{style:{fontSize:40},spin:!0})):i.a.createElement("form",{onSubmit:t,className:Z.a.formAuth},i.a.createElement("h1",{className:Z.a.title},"Login"),i.a.createElement("hr",{className:Z.a.lineBottomTitle}),i.a.createElement("label",null,"Email"),i.a.createElement(se,{name:"email",component:"input",placeholder:"enter email..."}),i.a.createElement("label",null,"Password"),i.a.createElement(se,{name:"password",type:"password",component:"input",placeholder:"enter password..."}),i.a.createElement("div",{className:Z.a.btnsWrap},i.a.createElement(ee.a,{type:"submit",value:"Sign in",style:{width:"100px"}}),i.a.createElement(f.b,{to:"/sign-up",className:"linkWithImageRigth"},i.a.createElement("span",{className:"linkWithImageRigthText"},"Registration"),i.a.createElement(re.a,null))))}(t.handleSubmit)})))})),ue=Object(p.b)((function(e){return{isLoadingAuth:e.reducerAuth.currentUser.isLoadingAuth}}),{signUpAuth:function(e){var t=e.username,a=e.email,r=e.password,n=e.setFieldError;return function(){var e=Object(O.a)(A.a.mark((function e(c){var i,s,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(H({isLoadingAuth:!0})),e.prev=1,i={user:{email:a,password:r,username:t}},e.next=5,S(i);case 5:return s=e.sent,e.next=8,s.data.user.token;case 8:return l=e.sent,e.next=11,s.data.user.username;case 11:return u=e.sent,R("currentUser",{isAuth:!0,name:u,token:l,isLoadingAuth:!1}),e.next=16,c(P({isAuth:!0,isLoadingAuth:!1,token:l,name:u}));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),D(e.t0,n,c),c(G({isAuth:!1,isLoadingAuth:!1}));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=te.a().shape({username:te.b().max(50,"no more than 50 characters").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f"),email:te.b().email("Not correct email").required("Enter email"),password:te.b().required("Enter password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,"Password between 8 and 40 characters, at least one number and one capital letter")});return i.a.createElement("div",null,i.a.createElement($.d,{initialValues:{email:"toniktoo@mail.ru",password:"Swimm1998er",username:"toniktoo"},validationSchema:function(){return t},onSubmit:function(t,a){var r=a.setFieldError,n=t.email,c=t.password,i=t.username;e.signUpAuth({email:n,password:c,username:i,setFieldError:r})}},(function(t){return function(t){return e.isLoadingAuth?i.a.createElement("div",{className:Z.a.loaderWrap},i.a.createElement(ae.a,{style:{fontSize:40},spin:!0})):i.a.createElement("form",{onSubmit:t,className:Z.a.formAuth},i.a.createElement("h1",{className:Z.a.title},"Registration"),i.a.createElement("hr",{className:Z.a.lineBottomTitle}),i.a.createElement("label",null,"Username"),i.a.createElement(se,{name:"username",component:"input",placeholder:"enter username..."}),i.a.createElement("label",null,"Email"),i.a.createElement(se,{name:"email",component:"input",placeholder:"enter email..."}),i.a.createElement("label",null,"Password"),i.a.createElement(se,{name:"password",type:"password",component:"input",placeholder:"enter password..."}),i.a.createElement("div",{className:Z.a.btnsWrap},i.a.createElement(ee.a,{type:"submit",value:"Sign in",style:{width:"100px"}}),i.a.createElement(f.b,{to:"/sign-in",className:"linkWithImageRigth"},i.a.createElement("span",{className:"linkWithImageRigthText"},"Login"),i.a.createElement(re.a,null))))}(t.handleSubmit)})))})),oe=a(54),me=a(66),de=a.n(me),pe=a(314),be=a(300),he=a(303),fe=a(312),Ee=a(313),Ae=a(57),Oe=a.n(Ae),ge="https://conduit.productionready.io/api",ve={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"}},je=function(e){return{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(e)}},_e=function(){var e=Object(O.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()(Object(v.a)(Object(v.a)({},ve),{},{method:"GET",url:"".concat(ge,"/articles?limit=10&offset=").concat(10*(t-1))}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"GET",url:"".concat(ge,"/articles?limit=10&offset=").concat(10*(a-1)),headers:je(t)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"GET",url:"".concat(ge,"/articles/").concat(t),headers:je(a)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"POST",url:"".concat(ge,"/articles"),headers:je(a),data:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"POST",url:"".concat(ge,"/articles/").concat(t,"/favorite"),headers:je(a)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"DELETE",url:"".concat(ge,"/articles/").concat(t,"/favorite"),headers:je(a)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"GET",url:"".concat(ge).concat(t),headers:je(a)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(O.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"GET",url:"".concat(ge).concat(t),headers:{"Content-Type":"application/json;charset=utf-8"}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(O.a)(A.a.mark((function e(t,a,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"PUT",url:"".concat(ge).concat(t),data:JSON.stringify(r),headers:je(a)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Te=function(){var e=Object(O.a)(A.a.mark((function e(t,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({method:"DELETE",url:"".concat(ge).concat(t),headers:je(a)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=Object(g.a)("GET_ARTICLES_ALL_REQUEST"),Ce=Object(g.a)("GET_ARTICLES_ALL_SUCCESS"),Re=Object(g.a)("GET_ARTICLES_ALL_FAILURE"),Fe=Object(g.a)("ARTICLE_LIKE_REQUEST"),We=Object(g.a)("ARTICLE_LIKE_SUCCESS"),Ve=Object(g.a)("ARTICLE_LIKE_FAILURE"),De=Object(g.a)("ARTICLE_DISLIKE_REQUEST"),He=Object(g.a)("ARTICLE_DISLIKE_SUCCESS"),Pe=Object(g.a)("ARTICLE_DISLIKE_FAILURE"),Ge=Object(g.a)("ARTICLE_REQUEST"),ze=Object(g.a)("ARTICLE_SUCCESS"),qe=Object(g.a)("ARTICLE_FAILURE"),Be=function(e,t,a){return function(){var r=Object(O.a)(A.a.mark((function r(n){var c,i;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(Ge({isLoadingArticles:!0}));case 2:if(r.prev=2,c=null,!a){r.next=10;break}return r.next=7,ye(e,t);case 7:c=r.sent,r.next=13;break;case 10:return r.next=12,Ne(e);case 12:c=r.sent;case 13:return i=c.data.article,r.next=16,n(ze({isLoadingArticles:!1,article:i}));case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(2),r.next=22,n(qe({isLoadingArticles:!1}));case 22:case"end":return r.stop()}}),r,null,[[2,18]])})));return function(e){return r.apply(this,arguments)}}()},Ke=Object(p.b)(null,{setLikeArticle:function(e,t,a){return function(){var r=Object(O.a)(A.a.mark((function r(n){var c,i,s,l;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=19;break}return r.next=3,n(De({isLoadingLike:!0}));case 3:return r.prev=3,r.next=6,we(t,a);case 6:return c=r.sent,i=c.data.article,r.next=10,n(He({newArticle:i,slug:t,isLoadingLike:!1}));case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(3),"Network Error"===r.t0.message&&n(C({error:r.t0})),r.next=17,n(Pe({isLoadingLike:!1}));case 17:r.next=35;break;case 19:return r.next=21,n(Fe());case 21:return r.prev=21,r.next=24,xe(t,a);case 24:return s=r.sent,l=s.data.article,r.next=28,n(We({newArticle:l,slug:t}));case 28:r.next=35;break;case 30:return r.prev=30,r.t1=r.catch(21),"Network Error"===r.t1.message&&n(C({error:r.t1})),r.next=35,n(Ve());case 35:case"end":return r.stop()}}),r,null,[[3,12],[21,30]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.title,a=e.author,r=e.createdAt,n=e.tagList,s=e.favoritesCount,l=e.slug,u=e.favorited,o=e.setLikeArticle,m=e.token,d=e.isAuth,p=Object(c.useState)(u),b=Object(oe.a)(p,2),h=b[0],E=b[1],g=Object(c.useState)(s),v=Object(oe.a)(g,2),j=v[0],_=v[1],L=function(){var e=Object(O.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ke(l,m);case 4:a=e.sent,r=a.data.article.favorited,o(r,l,m),E(!u),_(u?function(e){return e-1}:function(e){return e+1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error component article ".concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),k=i.a.createElement("div",{style:{width:"200px"}},i.a.createElement("p",null,d?"like or dislike this article":"sign in to like this article"));return i.a.createElement(f.b,{to:"/articles/".concat(l),className:Oe.a.articleLinkWrap},i.a.createElement("div",{className:Oe.a.article},i.a.createElement("div",{className:Oe.a.contentWrap},i.a.createElement("span",{className:Oe.a.date},W(r)),i.a.createElement("h3",{className:Oe.a.title},t),i.a.createElement("div",{className:Oe.a.autorWrap},"Autor",i.a.createElement("span",{className:Oe.a.author},a.username)),i.a.createElement("div",null,i.a.createElement("div",{className:Oe.a.tags},"Tags:",n.map((function(e){return i.a.createElement("p",{key:e,className:Oe.a.tag},e)}))),i.a.createElement(he.a,{title:"Note",trigger:"hover",content:k,className:Oe.a.likes,onClick:L},h?i.a.createElement(fe.a,null):i.a.createElement(Ee.a,null)," ".concat(j))))))})),Me=Object(p.b)((function(e){return{isLoadingArticles:e.reducerArticles.isLoadingArticles,articles:e.reducerArticles.articles,isAuth:e.reducerAuth.currentUser.isAuth,token:e.reducerAuth.currentUser.token,isFirstValidate:e.reducerAuth.currentUser.isFirstValidate}}),{getAllArticles:function(e,t,a){return function(){var r=Object(O.a)(A.a.mark((function r(n){var c,i;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(Ie({isLoadingArticles:!0}));case 2:if(c=void 0,r.prev=3,!e){r.next=10;break}return r.next=7,Le(t,a);case 7:c=r.sent,r.next=13;break;case 10:return r.next=12,_e(a);case 12:c=r.sent;case 13:return i=c.data.articles.map((function(e,t){return Object(v.a)({id:t},e)})),r.next=16,n(Ce({isLoadingArticles:!1,articles:i}));case 16:r.next=24;break;case 18:return r.prev=18,r.t0=r.catch(3),console.log(r.t0),"Network Error"===r.t0.message&&n(C({error:r.t0})),r.next=24,n(Re({isLoadingArticles:!1}));case 24:return r.abrupt("return",c.data.articlesCount);case 25:case"end":return r.stop()}}),r,null,[[3,18]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.isLoadingArticles,a=e.articles,r=e.getAllArticles,n=e.isAuth,s=e.token,l=e.isFirstValidate,u=Object(c.useState)(0),o=Object(oe.a)(u,2),m=o[0],d=o[1],p=Object(c.useState)(1),b=Object(oe.a)(p,2),h=b[0],E=b[1],g=Object(c.useState)(10),v=Object(oe.a)(g,1)[0];Object(c.useEffect)((function(){l&&function(){var e=Object(O.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n,s,h);case 2:return t=e.sent,e.next=5,d(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,h,r,s,l]);return i.a.createElement("div",{className:de.a.home},i.a.createElement("div",{className:de.a.articlesHeader},i.a.createElement("h2",{className:de.a.articlesTitle},"Articles List:"),i.a.createElement(f.b,{to:"/add",className:de.a.articlesCreateLink},i.a.createElement("h3",{className:de.a.articlesCreateLinkText},"Create article"),i.a.createElement(pe.a,null))),i.a.createElement("div",{className:de.a.articlesWrap},t?i.a.createElement("div",{className:de.a.loaderWrap},i.a.createElement(ae.a,{style:{fontSize:40}})):a.map((function(e){return i.a.createElement(Ke,Object.assign({key:e.id},e,{token:s,isAuth:n}))}))),i.a.createElement("div",{className:de.a.pagination},i.a.createElement(be.a,{defaultCurrent:1,currentPage:h,total:m||10,pageSize:v,showSizeChanger:!1,onChange:function(e){return E(e)}})))})),Je=function(e){var t=e.errors;return i.a.createElement("div",{className:"errorModal"},i.a.createElement("h3",null,t))},Qe=function(){return i.a.createElement("div",{className:"successModal"},"Success!")},Xe=a(83),Ye=a(302),Ze=te.a().shape({title:te.b().required(),description:te.b().required(),body:te.b().required(),tagList:te.b()}),$e=function(){var e=Object(O.a)(A.a.mark((function e(t,a,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={article:Object(v.a)(Object(v.a)({},t),{},{tagList:Object(Xe.a)(new Set(t.tagList.split(" ")))})},e.prev=1,e.next=4,Se(n,a);case 4:return e.next=6,setTimeout((function(){r(!1)}),2e3);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,r){return e.apply(this,arguments)}}(),et=Object(p.b)((function(e){return{token:e.reducerAuth.currentUser.token}}))((function(e){var t=e.token,a=Object(c.useState)(!1),r=Object(oe.a)(a,2),n=r[0],s=r[1];return i.a.createElement("div",null,i.a.createElement($.d,{initialValues:{title:"dasd",description:"dasdsda",body:"asdasd",tagList:"asdasd"},validationSchema:function(){return Ze},onSubmit:function(e,a){a.setFieldError;var r=a.resetForm;$e(e,t,s),r(),s(!0)}},(function(e){return function(e){return i.a.createElement("form",{onSubmit:e},i.a.createElement("div",{className:"form"},n?i.a.createElement(Qe,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"title"},"Create article"),i.a.createElement("hr",{className:"lineTitle"}),i.a.createElement("span",null,"Title"),i.a.createElement(se,{name:"title",placeholder:"enter title..."}),i.a.createElement("span",null,"Description:"),i.a.createElement(se,{name:"description",placeholder:"enter description..."}),i.a.createElement("span",null,"Body:"),i.a.createElement(ie,{name:"body",placeholder:"enter body..."}),i.a.createElement("span",null,"Tags:"),i.a.createElement(se,{name:"tagList",placeholder:"write tags with a space..."}),i.a.createElement(Ye.a,{type:"submit",value:"Create"}))))}(e.handleSubmit)})))})),tt=a(9),at=a.n(tt),rt=a(299),nt=a(154),ct=a(315),it=a(316),st=Object(p.b)((function(e){return{article:e.reducerArticles.article,author:e.reducerArticles.article.author,isLoadingArticles:e.reducerArticles.isLoadingArticles,token:e.reducerAuth.currentUser.token,isAuth:e.reducerAuth.currentUser.isAuth,username:e.reducerAuth.currentUser.username,isFirstValidate:e.reducerAuth.currentUser.isFirstValidate}}),{getArticle:Be})((function(e){var t=e.token,a=e.username,r=e.isAuth,n=e.isFirstValidate,s=e.location,l=e.article,u=e.author,o=e.getArticle,m=e.isLoadingArticles,d=e.history,p=l.title,b=l.createdAt,h=l.updatedAt,E=l.description,A=l.body,O=l.tagList;Object(c.useEffect)((function(){var e=s.pathname;n&&o(e,t,r)}),[s,o,t,r,n]);var g=function(){var e=s.pathname;Te(e,t),d.goBack()};return i.a.createElement(i.a.Fragment,null,m?i.a.createElement("div",{className:at.a.loaderWrap},i.a.createElement(ae.a,{style:{fontSize:40},spin:!0})):i.a.createElement("div",{className:at.a.article},i.a.createElement("div",{className:at.a.articleProfile},i.a.createElement(rt.a,{src:u.image,size:120}),i.a.createElement("h1",{className:at.a.articleTitle},"name: ",i.a.createElement("span",{className:at.a.textWrap},u.username)),i.a.createElement("span",{className:at.a.articleTitle},"bio: ",i.a.createElement("span",{className:at.a.textWrap},u.bio))),i.a.createElement("div",{className:at.a.articleContent},i.a.createElement("h1",{className:at.a.articleTitle},"title: ",i.a.createElement("span",{className:at.a.textWrap},p)),i.a.createElement("h2",{className:at.a.articleSubtitle},"description:"," ",i.a.createElement("span",{className:at.a.articleText},E)),i.a.createElement("span",{className:at.a.articleDate},"createdAt:"," ",i.a.createElement("span",{className:at.a.articleText},W(b))),i.a.createElement("span",{className:at.a.articleDate},"updatedAt:"," ",i.a.createElement("span",{className:at.a.articleText},W(h))),i.a.createElement("span",{className:at.a.articleBody},"body: ",i.a.createElement("span",{className:at.a.articleText},A)),i.a.createElement("span",{className:at.a.tagList},"tags:"," ",O.map((function(e){return i.a.createElement("p",{key:e,className:at.a.tag},e)}))),i.a.createElement("div",{className:at.a.lineUpFooter}),i.a.createElement("div",{className:at.a.footer},i.a.createElement("div",{className:at.a.btnsWrap},i.a.createElement(f.b,{to:"".concat(s.pathname,"/edit"),disabled:a!==u.username,className:"linkWithImgRigth"},i.a.createElement("span",{className:"linkWithImageRigthText"},"Edit"),i.a.createElement(ct.a,null)),i.a.createElement(nt.a,{type:"link",disabled:a!==u.username,className:at.a.btnDelete,onClick:g},i.a.createElement("span",null,"Delete"),i.a.createElement(it.a,null)))))))})),lt=a(195),ut=a.n(lt),ot=Object(p.b)((function(e){return{isLoadingAuth:e.reducerAuth.currentUser.isLoadingAuth,token:e.reducerAuth.currentUser.token,isAuth:e.reducerAuth.currentUser.isAuth,isLoadingArticles:e.reducerArticles.isLoadingArticles,article:e.reducerArticles.article}}),{getArticle:Be})((function(e){var t=e.isLoadingArticles,a=e.article,r=e.token,n=e.isAuth,s=e.getArticle,l=a.title,u=a.description,o=a.body,m=a.tagList,d=Object(c.useState)(!1),p=Object(oe.a)(d,2),b=p[0],h=p[1];Object(c.useEffect)((function(){var e=window.location.pathname;e=e.substr(0,e.length-5),s(e,r,n)}),[r,n,s]);var f=te.a().shape({title:te.b(),description:te.b(),body:te.b(),tagList:te.b()});return i.a.createElement("div",null,i.a.createElement($.d,{initialValues:{title:"",description:"",body:"",tagList:""},validationSchema:function(){return f},onSubmit:function(e){!function(e){var t=ut.a.omitBy(e,(function(e,t){return""===e})),a={article:Object(v.a)(Object(v.a)({},t),{},{tagList:Object(Xe.a)(new Set(e.tagList.split(" ")))})},n=window.location.pathname;n=n.substr(0,n.length-5),Ue(n,r,a),setTimeout((function(){h(!1),window.history.back()}),2e3)}(e),h(!0)}},(function(e){var a=e.handleSubmit;return i.a.createElement(i.a.Fragment,null,t?i.a.createElement("div",{className:Z.a.loaderWrap},i.a.createElement(ae.a,{style:{fontSize:40},spin:!0})):function(e){return i.a.createElement("form",{onSubmit:e,className:Z.a.formAuth},b?i.a.createElement(Qe,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{className:Z.a.title},"Edit article"),i.a.createElement("hr",{className:Z.a.lineBottomTitle}),i.a.createElement("label",null,"title"),i.a.createElement(se,{name:"title",component:"input",placeholder:l}),i.a.createElement("label",null,"description"),i.a.createElement(se,{name:"description",component:"input",placeholder:u}),i.a.createElement("label",null,"body"),i.a.createElement(se,{name:"body",component:"input",placeholder:o}),i.a.createElement("label",null,"tagList"),i.a.createElement(se,{name:"tagList",component:"input",placeholder:m}),i.a.createElement("div",{className:Z.a.btnsWrap},i.a.createElement(ee.a,{type:"submit",value:"Edit",style:{width:"100px"}}))))}(a))})))})),mt=Object(p.b)((function(e){return{isAuth:e.reducerAuth.currentUser.isAuth}}))((function(e){var t=e.component,a=e.isAuth,r=Object(ne.a)(e,["component","isAuth"]);return i.a.createElement(u.b,Object.assign({},r,{render:function(e){return a||localStorage.currentUser?i.a.createElement(t,e):i.a.createElement(u.a,{to:"/sign-in"})}}))})),dt=Object(p.b)((function(e){return{isAuth:e.reducerAuth.currentUser.isAuth}}))((function(e){var t=e.component,a=e.isAuth,r=Object(ne.a)(e,["component","isAuth"]);return i.a.createElement(u.b,Object.assign({},r,{render:function(e){return a?i.a.createElement(u.a,{to:"/"}):i.a.createElement(t,e)}}))})),pt=Object(p.b)((function(e){return{isAuth:e.reducerAuth.currentUser.isAuth,errors:e.reducerErrors.errors}}))((function(e){e.isAuth;var t=e.dispatch,a=e.errors;return Object(c.useEffect)((function(){if(t(M()),localStorage.currentUser){var e=(a="currentUser",JSON.parse(localStorage[a]));t(J({currentUser:e,isFirstValidate:!0}))}else t(Q({isFirstValidate:!0}));var a}),[t]),i.a.createElement("div",{className:"app"},i.a.createElement(X,null),i.a.createElement("div",{className:"content"},i.a.createElement(u.d,null,i.a.createElement(u.b,{path:"/",exact:!0,component:Me}),i.a.createElement(dt,{path:"/sign-in",component:le}),i.a.createElement(dt,{path:"/sign-up",component:ue}),i.a.createElement(mt,{path:"/add",component:et}),i.a.createElement(mt,{path:"/articles/:slug/edit",exact:!0,component:ot}),i.a.createElement(u.b,{path:"/articles/:slug",exact:!0,component:st}),i.a.createElement(u.a,{to:"/sign-in"}))),a?i.a.createElement(Je,{errors:a}):null)})),bt=a(67),ht=a(196),ft=a(197),Et=a(7),At=a(301),Ot=Object(At.a)((r={},Object(Et.a)(r,H,(function(e,t){var a=t.payload.isLoadingAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:Object(v.a)(Object(v.a)({},e.currentUser),{},{isLoadingAuth:a})})})),Object(Et.a)(r,P,(function(e,t){var a=t.payload,r=a.isAuth,n=a.token,c=a.name,i=a.isLoadingAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:{isAuth:r,username:c,token:n,isLoadingAuth:i}})})),Object(Et.a)(r,G,(function(e,t){var a=t.payload,r=a.isLoadingAuth,n=a.isAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:Object(v.a)(Object(v.a)({},e.currentUser),{},{isLoadingAuth:r,isAuth:n})})})),Object(Et.a)(r,z,(function(e,t){var a=t.payload.isLoadingAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:Object(v.a)(Object(v.a)({},e.currentUser),{},{isLoadingAuth:a})})})),Object(Et.a)(r,q,(function(e,t){var a=t.payload,r=a.currentUser,n=a.isFirstValidate,c=r.isAuth,i=r.token,s=r.name,l=r.isLoadingAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:{isAuth:c,username:s,token:i,isLoadingAuth:l,isFirstValidate:n}})})),Object(Et.a)(r,B,(function(e,t){var a=t.payload,r=a.isLoadingAuth,n=a.isAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:Object(v.a)(Object(v.a)({},e.currentUser),{},{isLoadingAuth:r,isAuth:n})})})),Object(Et.a)(r,K,(function(e,t){var a=t.payload,r=a.isAuth,n=a.isLoadingAuth,c=a.token,i=a.name;return Object(v.a)(Object(v.a)({},e),{},{currentUser:{isAuth:r,username:i,token:c,isLoadingAuth:n}})})),Object(Et.a)(r,M,(function(e,t){t.payload;return Object(v.a)({},e)})),Object(Et.a)(r,J,(function(e,t){var a=t.payload,r=a.currentUser,n=a.isFirstValidate,c=r.isAuth,i=r.token,s=r.name,l=r.isLoadingAuth;return Object(v.a)(Object(v.a)({},e),{},{currentUser:{isAuth:c,username:s,token:i,isLoadingAuth:l,isFirstValidate:n}})})),Object(Et.a)(r,Q,(function(e,t){var a=t.payload.isFirstValidate;return Object(v.a)(Object(v.a)({},e),{},{currentUser:Object(v.a)(Object(v.a)({},e.currentUser),{},{isFirstValidate:a})})})),r),{currentUser:{isAuth:!1,username:null,token:null,isLoadingAuth:!1,isFirstValidate:!1}}),gt=Object(At.a)(Object(Et.a)({},C,(function(e,t){var a=t.payload.error;return Object(v.a)(Object(v.a)({},e),{},{errors:a.message})})),{errors:null}),vt=Object(At.a)((n={},Object(Et.a)(n,Ie,(function(e,t){var a=t.payload.isLoadingArticles;return Object(v.a)(Object(v.a)({},e),{},{isLoadingArticles:a})})),Object(Et.a)(n,Ce,(function(e,t){var a=t.payload,r=a.isLoadingArticles,n=a.articles;return Object(v.a)(Object(v.a)({},e),{},{isLoadingArticles:r,articles:n})})),Object(Et.a)(n,Re,(function(e,t){var a=t.payload.isLoadingArticles;return Object(v.a)(Object(v.a)({},e),{},{isLoadingArticles:a})})),Object(Et.a)(n,Fe,(function(e,t){t.payload;return Object(v.a)({},e)})),Object(Et.a)(n,We,(function(e,t){var a=t.payload,r=a.newArticle,n=a.slug,c=e.articles.map((function(e){return e.slug===n?Object(v.a)({id:e.id},r):e}));return Object(v.a)(Object(v.a)({},e),{},{articles:Object(Xe.a)(c)})})),Object(Et.a)(n,Ve,(function(e,t){t.payload;return Object(v.a)({},e)})),Object(Et.a)(n,De,(function(e,t){t.payload;return Object(v.a)({},e)})),Object(Et.a)(n,He,(function(e,t){var a=t.payload,r=a.newArticle,n=a.slug,c=e.articles.map((function(e){return e.slug===n?Object(v.a)({id:e.id},r):e}));return Object(v.a)(Object(v.a)({},e),{},{articles:Object(Xe.a)(c)})})),Object(Et.a)(n,Pe,(function(e,t){t.payload;return Object(v.a)({},e)})),Object(Et.a)(n,Ge,(function(e,t){var a=t.payload.isLoadingArticles;return Object(v.a)(Object(v.a)({},e),{},{isLoadingArticles:a})})),Object(Et.a)(n,ze,(function(e,t){var a=t.payload,r=a.isLoadingArticles,n=a.article;return Object(v.a)(Object(v.a)({},e),{},{isLoadingArticles:r,article:n})})),Object(Et.a)(n,qe,(function(e,t){var a=t.payload.isLoadingArticles;return Object(v.a)(Object(v.a)({},e),{},{isLoadingArticles:a})})),n),{articles:[],isLoadingArticles:!1,article:{title:"",createdAt:"",updatedAt:"",description:"",body:"",tagList:[],favorited:!1,favoritesCount:"",author:{username:"",bio:"",image:""}}}),jt=Object(bt.combineReducers)({reducerAuth:Ot,reducerErrors:gt,reducerArticles:vt}),_t=Object(bt.createStore)(jt,Object(ht.composeWithDevTools)(Object(bt.applyMiddleware)(ft.a)));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p.a,{store:_t},i.a.createElement(f.a,null,i.a.createElement(pt,null)))),document.getElementById("root"))},57:function(e,t,a){e.exports={articleLinkWrap:"Article_articleLinkWrap__q91Uk",article:"Article_article__5Kr4S",date:"Article_date__6F7Vq",title:"Article_title__h33Uk",titleLink:"Article_titleLink__3aXDj",autorWrap:"Article_autorWrap__1q7fB",author:"Article_author__29AUu",likes:"Article_likes__2-uMF",tags:"Article_tags__1_EDw",tag:"Article_tag__1I3Ub"}},66:function(e,t,a){e.exports={home:"Home_home__1K9aC",articlesWrap:"Home_articlesWrap__DMIhy",articlesCreateLink:"Home_articlesCreateLink__3ca2H",articlesCreateLinkText:"Home_articlesCreateLinkText__24f57",loaderWrap:"Home_loaderWrap__2VnKY",pagination:"Home_pagination__Op0Ch"}},9:function(e,t,a){e.exports={article:"ArticleInfo_article__o9XkH",articleProfile:"ArticleInfo_articleProfile__1pdRC",articleTitle:"ArticleInfo_articleTitle__1o-TV",articleSubtitle:"ArticleInfo_articleSubtitle__288pq",bio:"ArticleInfo_bio__2OyHF",articleText:"ArticleInfo_articleText___z9VY",textWrap:"ArticleInfo_textWrap__12A-U",articleDate:"ArticleInfo_articleDate__2RvlR",articleBody:"ArticleInfo_articleBody__3wINl",articleContent:"ArticleInfo_articleContent__1vIbT",tagList:"ArticleInfo_tagList__1-9Lv",tag:"ArticleInfo_tag__2i-Eh",footer:"ArticleInfo_footer__3Oiui",likes:"ArticleInfo_likes__2Vs-5",lineUpFooter:"ArticleInfo_lineUpFooter__2yu2X",footerLikes:"ArticleInfo_footerLikes__Rti1j",btnsWrap:"ArticleInfo_btnsWrap__16uer",btnDelete:"ArticleInfo_btnDelete__2buwg"}}},[[201,1,2]]]);
//# sourceMappingURL=main.e8a2cdb8.chunk.js.map