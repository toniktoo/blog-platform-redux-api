{"version":3,"sources":["components/articles/article/ArticleInfo.module.css","components/header/Header.module.css","components/auth/Auth.module.css","constants/url.constants/index.js","api/auth/index.js","redux/actions/errors/index.js","utils/index.js","redux/actions/auth/index.js","constants/routes.constants/index.js","components/header/index.jsx","components/formFields/index.jsx","components/auth/signIn/index.jsx","components/auth/signUp/index.jsx","api/articles/index.js","redux/actions/articles/index.js","components/articles/item/index.jsx","components/home/index.jsx","components/modal/index.jsx","components/articles/createArticle/index.jsx","components/articles/article/index.jsx","components/articles/edit/index.jsx","components/routes/private/index.jsx","components/routes/auth/index.jsx","App.jsx","redux/reducers/auth/index.js","redux/reducers/errors/index.js","redux/reducers/articles/index.js","redux/reducers/root/index.js","redux/store/index.js","index.js","components/articles/item/Article.module.css","components/home/Home.module.css"],"names":["module","exports","URL","optionsAuth","method","headers","json","fetchSignUpApi","data","a","axios","JSON","stringify","url","response","fetchSignInApi","setErrorNetwork","createAction","setItemDB","nameItem","valueItem","localStorage","setItem","DiffTime","timeNow","timeCreatedAt","this","differenceInDays","diffHours","differenceInHours","diffMinutes","differenceInMinutes","getFormatedDate","date","diffTime","Date","parseISO","diffDay","getDay","getHours","getMinutes","validateTimeEmpty","diffItem","errorsSignInProcessing","error","setFieldError","dispatch","message","errors","errorsSignUpProcessing","responseErrors","key","toString","signUpUserRequest","signUpUserSuccess","signUpUserFailure","signInUserRequest","signInUserSuccess","signInUserFailure","logout","firstValidateUserRequest","firstValidateUserSuccess","firstValidateUserFailure","routes","home","add","connect","state","username","reducerAuth","currentUser","isAuth","handleLogout","removeItem","isLoadingAuth","name","token","isFirstValidate","className","styles","header","orientation","style","minWidth","info","nameUser","ExportOutlined","fontSize","onClick","to","linkUser","linkUserText","HomeOutlined","renderError","msg","color","FormArea","props","TextArea","FormInput","signInAuth","email","password","user","schema","yup","shape","required","initialValues","validationSchema","onSubmit","values","handleSubmit","loaderWrap","LoadingOutlined","spin","formAuth","title","lineBottomTitle","component","placeholder","type","btnsWrap","value","width","UserAddOutlined","renderForm","signUpAuth","max","matches","optionsWithoutToken","headersWithToken","Authorization","fetchAllArticlesWithoutTokenApi","currentPage","limitCount","fetchAllArticlesWithTokenApi","fetchArticleApi","slug","createArticleApi","setLikeArticleApi","setDislikeArticleApi","fetchArticlePathNameWithTokenApi","pathname","fetchArticlePathNameApi","updateArticleApi","path","deleteArticleApi","getArticlesAllRequest","getArticlesAllSuccess","getArticlesAllFailure","articleLikeRequest","articleLikeSuccess","articleLikeFailure","articleDislikeRequest","articleDislikeSuccess","articleDislikeFailure","articleRequest","articleSuccess","articleFailure","getArticle","isLoadingArticles","articleResponse","article","setLikeArticle","isLike","isLoadingLike","responseArticle","newArticle","author","createdAt","tagList","favoritesCount","favorited","useState","isLikeLocal","setIsLikeLocal","isLikeCountLocal","setIsLikeCountLocal","handleLikeArticle","event","preventDefault","res","count","console","log","contenPopover","articleLinkWrap","contentWrap","autorWrap","tags","map","tag","trigger","content","likes","HeartFilled","HeartOutlined","reducerArticles","articles","getAllArticles","responseArticles","articlesWithId","item","index","id","uniqueId","articlesCount","setArticlesCount","setCurrentPage","articlesCountOnPage","useEffect","getArticles","articlesHeader","articlesTitle","articlesCreateLink","articlesCreateLinkText","DiffOutlined","articlesWrap","pagination","defaultCurrent","total","pageSize","showSizeChanger","onChange","page","ModalError","useSelector","reducerErrors","ModalSuccess","description","body","handleCreateArticle","setIsCreateArticle","Set","split","setTimeout","isCreateArticle","resetForm","marginTop","location","history","updatedAt","handleDeleteArticle","goBack","articleProfile","src","image","size","articleTitle","textWrap","bio","articleContent","articleSubtitle","articleText","articleDate","articleBody","lineUpFooter","footer","disabled","EditFilled","btnDelete","DeleteFilled","isEditSuccess","setIsEditSuccess","useHistory","match","useRouteMatch","valuesWithoutEmptyFields","_","omitBy","window","handleEditArticle","Component","rest","render","parse","exact","Home","FormSignIn","FormSignUp","CreateArticle","ComponentEditArticle","ArticleInfo","handleActions","payload","newArticles","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,QAAU,6BAA6B,eAAiB,oCAAoC,aAAe,kCAAkC,gBAAkB,qCAAqC,IAAM,yBAAyB,YAAc,iCAAiC,SAAW,8BAA8B,YAAc,iCAAiC,YAAc,iCAAiC,eAAiB,oCAAoC,QAAU,6BAA6B,IAAM,yBAAyB,OAAS,4BAA4B,MAAQ,2BAA2B,aAAe,kCAAkC,YAAc,iCAAiC,SAAW,8BAA8B,UAAY,iC,oBCAnwBD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,SAAW,yBAAyB,SAAW,yBAAyB,aAAe,+B,+ECArKD,EAAOC,QAAU,CAAC,SAAW,uBAAuB,MAAQ,oBAAoB,SAAW,uBAAuB,aAAe,6B,6NCDpHC,EAAM,yCCGbC,EAAc,CAClBC,OAAQ,OACRC,QAAS,CACP,eAAgB,kCAElBC,MAAM,GAGKC,EAAc,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACLC,IAAM,2BACxBP,GADuB,IAE1BK,KAAMG,KAAKC,UAAUJ,GACrBK,IAAI,GAAD,OAAKX,EAAL,aAJuB,cACtBY,EADsB,yBAMrBA,GANqB,2CAAH,sDASdC,EAAc,uCAAG,WAAOP,GAAP,eAAAC,EAAA,sEACLC,IAAM,2BACxBP,GADuB,IAE1BK,KAAMG,KAAKC,UAAUJ,GACrBK,IAAI,GAAD,OAAKX,EAAL,mBAJuB,cACtBY,EADsB,yBAMrBA,GANqB,2CAAH,sD,sDClBdE,EAAkBC,YAAa,iBCU/BC,EAAY,SAACC,EAAUC,GAAX,OACvBC,aAAaC,QAAQH,EAAUR,KAAKC,UAAUQ,KAO3BG,E,WACnB,WAAYC,EAASC,GAAgB,oBACnCC,KAAKF,QAAUA,EACfE,KAAKD,cAAgBA,E,qDAIrB,OAAOE,YAAiBD,KAAKF,QAASE,KAAKD,iB,iCAI3C,IAAIG,EAAYC,YAAkBH,KAAKF,QAASE,KAAKD,eAErD,OADAG,GAAa,K,mCAKb,IAAIE,EAAcC,YAAoBL,KAAKF,QAASE,KAAKD,eAEzD,OADAK,GAAe,O,KAKNE,EAAkB,SAACC,GAC9B,IAAMC,EAAW,IAAIX,EAAS,IAAIY,KAAQC,YAASH,IAC7CI,EAAUH,EAASI,SACnBV,EAAYM,EAASK,WACrBT,EAAcI,EAASM,aAEvBC,EAAoB,SAACC,EAAUvB,GAAX,OACX,IAAbuB,EAAA,UAAoBA,EAApB,YAAgCvB,GAAa,IAU/C,OAPkB,IAAZkB,GAA+B,IAAdT,GAAmC,IAAhBE,EAA0B,MAC5D,GAAN,OAAUW,EAAkBJ,EAAS,QAArC,YAAgDI,EAC9Cb,EACA,SAFF,YAGKa,EAAkBX,EAAa,WAHpC,SAWSa,EAAyB,SAACC,EAAOC,EAAeC,GACrC,kBAAlBF,EAAMG,SACRD,EAAS9B,EAAgB,CAAE4B,WAENA,EAAM9B,SAASN,KAAKwC,OAExB,uBACjBH,EAAc,QAAS,gCACvBA,EAAc,WAAY,kCAIjBI,EAAyB,SAACL,EAAOC,EAAeC,GACrC,kBAAlBF,EAAMG,SACRD,EAAS9B,EAAgB,CAAE4B,WAG7B,IAAMM,EAAiBN,EAAM9B,SAASN,KAAKwC,OAC3C,IAAK,IAAMG,KAAOD,EAChBL,EAAcM,EAAIC,WAAYF,EAAeC,GAAK,KC5EzCE,EAAoBpC,YAAa,uBACjCqC,EAAoBrC,YAAa,uBACjCsC,EAAoBtC,YAAa,uBA8CjCuC,EAAoBvC,YAAa,uBACjCwC,EAAoBxC,YAAa,uBACjCyC,EAAoBzC,YAAa,uBA4CjC0C,EAAS1C,YAAa,mBAItB2C,EAA2B3C,YACtC,+BAEW4C,EAA2B5C,YACtC,+BAEW6C,EAA2B7C,YACtC,+BCzGa8C,EARA,CACbC,KAAM,IACNC,IAAK,OACL,UAAW,WACX,UAAW,WACX,eAAgB,uBAChB,eAAgB,mBCkDHC,eALS,SAACC,GAAD,MAAY,CAClCC,SAAUD,EAAME,YAAYC,YAAYF,SACxCG,OAAQJ,EAAME,YAAYC,YAAYC,UAGzBL,EA9CA,SAAC,GAAoC,IAAlCK,EAAiC,EAAjCA,OAAQzB,EAAyB,EAAzBA,SAAUsB,EAAe,EAAfA,SAC5BI,EAAe,WHGK,IAACrD,IGFZ,cHEyBE,aAAaoD,WAAWtD,GGD9D2B,EACEa,EAAO,CACLY,QAAQ,EACRG,eAAe,EACfC,KAAM,KACNC,MAAO,KACPC,iBAAiB,MAuBvB,OACE,yBAAKC,UAAWC,IAAOC,QACrB,kBAAC,IAAD,CAASC,YAAY,OAAOC,MAAO,CAAEC,SAAU,MAA/C,QAGA,yBAAKL,UAAWC,IAAOK,MAtBrBb,GAAUlD,aAAaiD,YAEvB,oCACE,wBAAIQ,UAAWC,IAAOM,UAAWjB,GACjC,kBAACkB,EAAA,EAAD,CAAgBJ,MAAO,CAAEK,SAAU,QAAUC,QAAShB,KAKxD,kBAAC,IAAD,CAAMiB,GAAI1B,EAAO,WAAYe,UAAWC,IAAOW,UAC7C,0BAAMZ,UAAWC,IAAOY,cAAxB,WACA,kBAACC,EAAA,EAAD,Y,0EChCJC,GAAc,SAACC,GAAD,OAAS,0BAAMZ,MAAO,CAAEa,MAAO,QAAUD,IAEhDE,GAAW,SAAC,GAAD,IAAGrB,EAAH,EAAGA,KAASsB,EAAZ,gCACtB,6BACE,kBAAC,KAAMC,SAAP,eAAgBvB,KAAMA,GAAUsB,IAChC,kBAAC,KAAD,CAActB,KAAMA,IAAO,SAACmB,GAAD,OAASD,GAAYC,QAIvCK,GAAY,SAAC,GAAD,IAAGxB,EAAH,EAAGA,KAASsB,EAAZ,gCACvB,6BACE,kBAAC,KAAD,eAAOtB,KAAMA,GAAUsB,IACvB,kBAAC,KAAD,CAActB,KAAMA,IAAO,SAACmB,GAAD,OAASD,GAAYC,QCgErC5B,gBAJS,SAACC,GAAD,MAAY,CAClCO,cAAeP,EAAME,YAAYC,YAAYI,iBAGP,CAAE0B,WJpBhB,SAAC,GAAD,IACxBhC,EADwB,EACxBA,SACAiC,EAFwB,EAExBA,MACAC,EAHwB,EAGxBA,SACAzD,EAJwB,EAIxBA,cAJwB,8CAKpB,WAAOC,GAAP,uBAAArC,EAAA,6DACJqC,EAASU,EAAkB,CAAEkB,eAAe,KADxC,SAGIlE,EAAO,CACX+F,KAAM,CAAEF,QAAOC,WAAUlC,aAJzB,SAMqBrD,EAAeP,GANpC,cAMIM,EANJ,gBAOkBA,EAASN,KAAK+F,KAAK3B,MAPrC,cAOIA,EAPJ,iBAQiB9D,EAASN,KAAK+F,KAAKnC,SARpC,QAQIO,EARJ,OAgBFzD,EAAU,cANJoD,EAAc,CAClBC,QAAQ,EACRI,KAAMA,EACNC,MAAOA,EACPF,eAAe,IAIjB5B,EACEW,EAAkB,CAChBa,cACAO,iBAAiB,KArBnB,kDAyBFlC,EAAuB,EAAD,GAAQE,EAAeC,GAC7CA,EACEY,EAAkB,CAChBa,QAAQ,EACRG,eAAe,KA7BjB,0DALoB,wDIoBXR,EApEI,SAAC+B,GAClB,IAqCMO,EAASC,OAAaC,MAAM,CAChCL,MAAOI,OAAaJ,MAAM,qBAAqBM,SAAS,eACxDL,SAAUG,OAAaE,SAAS,oBAGlC,OACE,6BACE,kBAAC,KAAD,CACEC,cAAe,CACbP,MAAO,qBACPC,SAAU,eAEZO,iBAAkB,kBAAML,GACxBM,SAAU,SAACC,EAAD,GAAgC,IAArBlE,EAAoB,EAApBA,cACXwD,EAAoBU,EAApBV,MAAOC,EAAaS,EAAbT,SACfL,EAAMG,WAAW,CAAEC,QAAOC,WAAUzD,qBAGrC,YACC,OAxDW,SAACmE,GAClB,OAAIf,EAAMvB,cAEN,yBAAKI,UAAWC,IAAOkC,YACrB,kBAACC,GAAA,EAAD,CAAiBhC,MAAO,CAAEK,SAAU,IAAM4B,MAAI,KAKhD,0BAAML,SAAUE,EAAclC,UAAWC,IAAOqC,UAC9C,wBAAItC,UAAWC,IAAOsC,OAAtB,SACA,wBAAIvC,UAAWC,IAAOuC,kBACtB,wCACA,kBAAC,GAAD,CACE3C,KAAK,QACL4C,UAAU,QACVC,YAAY,mBAEd,2CACA,kBAAC,GAAD,CACE7C,KAAK,WACL8C,KAAK,WACLF,UAAU,QACVC,YAAY,sBAEd,yBAAK1C,UAAWC,IAAO2C,UACrB,kBAAC,KAAD,CAAOD,KAAK,SAASE,MAAM,UAAUzC,MAAO,CAAE0C,MAAO,WACrD,kBAAC,IAAD,CAAMnC,GAAI1B,EAAO,WAAYe,UAAU,sBACrC,0BAAMA,UAAU,0BAAhB,gBACA,kBAAC+C,GAAA,EAAD,SA2BGC,CADc,EAAnBd,qBC6BG9C,gBAJS,SAACC,GAAD,MAAY,CAClCO,cAAeP,EAAME,YAAYC,YAAYI,iBAGP,CAAEqD,WLnFhB,SAAC,GAAD,IACxB3D,EADwB,EACxBA,SACAiC,EAFwB,EAExBA,MACAC,EAHwB,EAGxBA,SACAzD,EAJwB,EAIxBA,cAJwB,8CAKpB,WAAOC,GAAP,uBAAArC,EAAA,6DACJqC,EAASO,EAAkB,CAAEqB,eAAe,KADxC,SAGIlE,EAAO,CACX+F,KAAM,CAAEF,QAAOC,WAAUlC,aAJzB,SAMqB7D,EAAeC,GANpC,cAMIM,EANJ,gBAOkBA,EAASN,KAAK+F,KAAK3B,MAPrC,cAOIA,EAPJ,iBAQiB9D,EAASN,KAAK+F,KAAKnC,SARpC,eAQIO,EARJ,OAgBFzD,EAAU,cANJoD,EAAc,CAClBC,QAAQ,EACRI,KAAMA,EACNC,MAAOA,EACPF,eAAe,IAdf,UAkBI5B,EACJQ,EAAkB,CAChBgB,cACAO,iBAAiB,KArBnB,0DAyBF5B,EAAuB,EAAD,GAAQJ,EAAeC,GAC7CA,EACES,EAAkB,CAChBgB,QAAQ,EACRG,eAAe,KA7BjB,0DALoB,wDKmFXR,EArFI,SAAC+B,GAClB,IA2CMO,EAASC,OAAaC,MAAM,CAChCtC,SAAUqC,OAEPuB,IAAI,GAAI,8BACRrB,SAAS,6EACZN,MAAOI,OAAaJ,MAAM,qBAAqBM,SAAS,eACxDL,SAAUG,OAEPE,SAAS,kBACTsB,QACC,iDACA,sFAIN,OACE,6BACE,kBAAC,KAAD,CACErB,cAAe,CACbP,MAAO,mBACPC,SAAU,cACVlC,SAAU,YAEZyC,iBAAkB,kBAAML,GACxBM,SAAU,SAACC,EAAD,GAAgC,IAArBlE,EAAoB,EAApBA,cACXwD,EAA8BU,EAA9BV,MAAOC,EAAuBS,EAAvBT,SAAUlC,EAAa2C,EAAb3C,SACzB6B,EAAM8B,WAAW,CAAE1B,QAAOC,WAAUlC,WAAUvB,qBAG/C,YACC,OAzEW,SAACmE,GAClB,OAAIf,EAAMvB,cAEN,yBAAKI,UAAWC,IAAOkC,YACrB,kBAACC,GAAA,EAAD,CAAiBhC,MAAO,CAAEK,SAAU,IAAM4B,MAAI,KAKhD,0BAAML,SAAUE,EAAclC,UAAWC,IAAOqC,UAC9C,wBAAItC,UAAWC,IAAOsC,OAAtB,gBACA,wBAAIvC,UAAWC,IAAOuC,kBACtB,2CACA,kBAAC,GAAD,CACE3C,KAAK,WACL4C,UAAU,QACVC,YAAY,sBAEd,wCACA,kBAAC,GAAD,CACE7C,KAAK,QACL4C,UAAU,QACVC,YAAY,mBAEd,2CACA,kBAAC,GAAD,CACE7C,KAAK,WACL8C,KAAK,WACLF,UAAU,QACVC,YAAY,sBAEd,yBAAK1C,UAAWC,IAAO2C,UACrB,kBAAC,KAAD,CAAOD,KAAK,SAASE,MAAM,UAAUzC,MAAO,CAAE0C,MAAO,WACrD,kBAAC,IAAD,CAAMnC,GAAI1B,EAAO,WAAYe,UAAU,sBACrC,0BAAMA,UAAU,0BAAhB,SACA,kBAAC+C,GAAA,EAAD,SAsCGC,CADc,EAAnBd,qB,mGClFNkB,GAAsB,CAC1B9H,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAId8H,GAAmB,SAACvD,GAAD,MAAY,CACnC,eAAgB,iCAChBwD,cAAc,SAAD,OAAWxD,KAGbyD,GAA+B,uCAAG,WAC7CC,EACAC,GAF6C,eAAA9H,EAAA,sEAItBC,IAAM,2BACxBwH,IADuB,IAE1B9H,OAAQ,MACRS,IAAI,GAAD,OAAKX,EAAL,2BAA2BqI,EAA3B,mBAAoE,IAAnBD,EAAc,OAPvB,cAIvCxH,EAJuC,yBAStCA,GATsC,2CAAH,wDAY/B0H,GAA4B,uCAAG,WAC1C5D,EACA0D,EACAC,GAH0C,eAAA9H,EAAA,sEAKnBC,IAAM,CAC3BN,OAAQ,MACRS,IAAI,GAAD,OAAKX,EAAL,2BAA2BqI,EAA3B,mBAAoE,IAAnBD,EAAc,IAClEjI,QAAS8H,GAAiBvD,KARc,cAKpC9D,EALoC,yBAUnCA,GAVmC,2CAAH,0DAa5B2H,GAAe,uCAAG,WAAOC,EAAM9D,GAAb,eAAAnE,EAAA,sEACNC,IAAM,CAC3BN,OAAQ,MACRS,IAAI,GAAD,OAAKX,EAAL,qBAAqBwI,GACxBrI,QAAS8H,GAAiBvD,KAJC,cACvB9D,EADuB,yBAMtBA,GANsB,2CAAH,wDASf6H,GAAgB,uCAAG,WAAOnI,EAAMoE,GAAb,eAAAnE,EAAA,sEACPC,IAAM,CAC3BN,OAAQ,OACRS,IAAI,GAAD,OAAKX,EAAL,aACHG,QAAS8H,GAAiBvD,GAC1BpE,KAAMG,KAAKC,UAAUJ,KALO,cACxBM,EADwB,yBAOvBA,GAPuB,2CAAH,wDAWhB8H,GAAiB,uCAAG,WAAOF,EAAM9D,GAAb,eAAAnE,EAAA,sEACRC,IAAM,CAC3BN,OAAQ,OACRS,IAAI,GAAD,OAAKX,EAAL,qBAAqBwI,EAArB,aACHrI,QAAS8H,GAAiBvD,KAJG,cACzB9D,EADyB,yBAMxBA,GANwB,2CAAH,wDASjB+H,GAAoB,uCAAG,WAAOH,EAAM9D,GAAb,eAAAnE,EAAA,sEACXC,IAAM,CAC3BN,OAAQ,SACRS,IAAI,GAAD,OAAKX,EAAL,qBAAqBwI,EAArB,aACHrI,QAAS8H,GAAiBvD,KAJM,cAC5B9D,EAD4B,yBAM3BA,GAN2B,2CAAH,wDAWpBgI,GAAgC,uCAAG,WAAOC,EAAUnE,GAAjB,eAAAnE,EAAA,sEACvBC,IAAM,CAC3BN,OAAQ,MACRS,IAAI,GAAD,OAAKX,GAAL,OAAW6I,GACd1I,QAAS8H,GAAiBvD,KAJkB,cACxC9D,EADwC,yBAMvCA,GANuC,2CAAH,wDAQhCkI,GAAuB,uCAAG,WAAOD,GAAP,eAAAtI,EAAA,sEACdC,IAAM,CAC3BN,OAAQ,MACRS,IAAI,GAAD,OAAKX,GAAL,OAAW6I,GACd1I,QAAS,CACP,eAAgB,oCALiB,cAC/BS,EAD+B,yBAQ9BA,GAR8B,2CAAH,sDAWvBmI,GAAgB,uCAAG,WAAOC,EAAMtE,EAAOpE,GAApB,eAAAC,EAAA,sEACPC,IAAM,CAC3BN,OAAQ,MACRS,IAAI,GAAD,OAAKX,GAAL,OAAWgJ,GACd1I,KAAMG,KAAKC,UAAUJ,GACrBH,QAAS8H,GAAiBvD,KALE,cACxB9D,EADwB,yBAOvBA,GAPuB,2CAAH,0DAUhBqI,GAAgB,uCAAG,WAAOJ,EAAUnE,GAAjB,eAAAnE,EAAA,sEACPC,IAAM,CAC3BN,OAAQ,SACRS,IAAI,GAAD,OAAKX,GAAL,OAAW6I,GACd1I,QAAS8H,GAAiBvD,KAJE,cACxB9D,EADwB,yBAMvBA,GANuB,2CAAH,wD,qBCjGhBsI,GAAwBnI,YAAa,4BACrCoI,GAAwBpI,YAAa,4BACrCqI,GAAwBrI,YAAa,4BA+CrCsI,GAAqBtI,YAAa,wBAClCuI,GAAqBvI,YAAa,wBAClCwI,GAAqBxI,YAAa,wBAElCyI,GAAwBzI,YAAa,2BACrC0I,GAAwB1I,YAAa,2BACrC2I,GAAwB3I,YAAa,2BAoCrC4I,GAAiB5I,YAAa,mBAC9B6I,GAAiB7I,YAAa,mBAC9B8I,GAAiB9I,YAAa,mBAE9B+I,GAAa,SAACd,EAAMtE,EAAOL,GAAd,8CAAyB,WAAOzB,GAAP,iBAAArC,EAAA,yDACjDqC,EAAS+G,GAAe,CAAEI,mBAAmB,KADI,SAG3CC,EAAkB,MAClB3F,EAJ2C,gCAKrBuE,GAAiCI,EAAMtE,GALlB,OAK7CsF,EAL6C,+CAOrBlB,GAAwBE,GAPH,QAO7CgB,EAP6C,eASzCC,EAAUD,EAAgB1J,KAAK2J,QACrCrH,EAASgH,GAAe,CAAEG,mBAAmB,EAAOE,aAVL,kDAYzB,kBAAlB,KAAMpH,SACRD,EAAS9B,EAAgB,CAAE4B,MAAK,QAElCE,EAASiH,GAAe,CAAEE,mBAAmB,KAfE,0DAAzB,uDCnBX/F,eAAQ,KAAM,CAAEkG,eDnBD,SAACC,EAAQ3B,EAAM9D,GAAf,8CAAyB,WAAO9B,GAAP,qBAAArC,EAAA,0DACjD4J,EADiD,wBAGnDvH,EAAS4G,GAAsB,CAAEY,eAAe,KAHG,kBAKnBzB,GAAqBH,EAAM9D,GALR,OAK3C2F,EAL2C,OAM3CC,EAAaD,EAAgB/J,KAAK2J,QACxCrH,EACE6G,GAAsB,CAAEa,aAAY9B,OAAM4B,eAAe,KARV,kDAW3B,kBAAlB,KAAMvH,SACRD,EAAS9B,EAAgB,CAAE4B,MAAK,QAElCE,EAAS8G,GAAsB,CAAEU,eAAe,KAdC,uCAkBnDxH,EAASyG,MAlB0C,oBAoBnBX,GAAkBF,EAAM9D,GApBL,QAoB3C2F,EApB2C,OAqB3CC,EAAaD,EAAgB/J,KAAK2J,QACxCrH,EAAS0G,GAAmB,CAAEgB,aAAY9B,UAtBO,0DAwB3B,kBAAlB,KAAM3F,SACRD,EAAS9B,EAAgB,CAAE4B,MAAK,QAzBe,UA2B3CE,EAAS2G,MA3BkC,kEAAzB,wDCmBfvF,EA9EK,SAAC,GAWd,IAVLmD,EAUI,EAVJA,MACAoD,EASI,EATJA,OACAC,EAQI,EARJA,UACAC,EAOI,EAPJA,QACAC,EAMI,EANJA,eACAlC,EAKI,EALJA,KACAmC,EAII,EAJJA,UACAT,EAGI,EAHJA,eACAxF,EAEI,EAFJA,MACAL,EACI,EADJA,OACI,EACkCuG,mBAASD,GAD3C,oBACGE,EADH,KACgBC,EADhB,OAE4CF,mBAASF,GAFrD,oBAEGK,EAFH,KAEqBC,EAFrB,KAIEC,EAAiB,uCAAG,WAAOC,GAAP,iBAAA3K,EAAA,6DACxB2K,EAAMC,iBADkB,kBAGJ5C,GAAgBC,EAAM9D,GAHlB,OAGhB0G,EAHgB,OAIhBjB,EAASiB,EAAI9K,KAAK2J,QAAQU,UAChCT,EAAeC,EAAQ3B,EAAM9D,GAE7BoG,GAAgBH,GAEdK,EADEL,EACkB,SAACU,GAAD,OAAWA,EAAQ,GAEnB,SAACA,GAAD,OAAWA,EAAQ,IAXnB,kDActBC,QAAQC,IAAR,yCAdsB,0DAAH,sDAiBjBC,EACJ,yBAAKxG,MAAO,CAAE0C,MAAO,UACnB,2BACGrD,EACG,+BACA,iCAKV,OACE,kBAAC,IAAD,CAAMkB,GAAE,oBAAeiD,GAAQ5D,UAAWC,KAAO4G,iBAC/C,yBAAK7G,UAAWC,KAAOoF,SACrB,yBAAKrF,UAAWC,KAAO6G,aACrB,0BAAM9G,UAAWC,KAAO9C,MAAOD,EAAgB0I,IAC/C,wBAAI5F,UAAWC,KAAOsC,OAAQA,GAC9B,yBAAKvC,UAAWC,KAAO8G,WAAvB,QAEE,0BAAM/G,UAAWC,KAAO0F,QAASA,EAAOrG,WAE1C,6BACE,yBAAKU,UAAWC,KAAO+G,MAAvB,QAEGnB,EAAQoB,KAAI,SAACC,GAAD,OACX,uBAAG7I,IAAK6I,EAAKlH,UAAWC,KAAOiH,KAC5BA,OAIP,kBAAC,KAAD,CACE3E,MAAM,OACN4E,QAAQ,QACRC,QAASR,EACT5G,UAAWC,KAAOoH,MAClB3G,QAAS2F,GAERJ,EAAc,kBAACqB,GAAA,EAAD,MAAkB,kBAACC,GAAA,EAAD,MAPnC,WAQOpB,WCOJ/G,gBARQ,SAACC,GAAD,MAAY,CACjC8F,kBAAmB9F,EAAMmI,gBAAgBrC,kBACzCsC,SAAUpI,EAAMmI,gBAAgBC,SAChChI,OAAQJ,EAAME,YAAYC,YAAYC,OACtCK,MAAOT,EAAME,YAAYC,YAAYM,MACrCC,gBAAiBV,EAAME,YAAYC,YAAYO,mBAGV,CAAE2H,eFtEX,SAC5BjI,EACAK,EACA0D,EACAC,GAJ4B,8CAKzB,WAAOzF,GAAP,iBAAArC,EAAA,yDACHqC,EAASsG,GAAsB,CAAEa,mBAAmB,KAChDwC,EAAmB,KAFpB,UAIGlI,EAJH,gCAK0BiE,GACvB5D,EACA0D,EACAC,GARH,OAKCkE,EALD,+CAW0BpE,GACvBC,EACAC,GAbH,QAWCkE,EAXD,eAiBKC,EAAiBD,EAAiBjM,KAAK+L,SAASR,KACpD,SAACY,EAAMC,GAAP,oBACEC,GAAIC,uBACDH,MAGP7J,EACEuG,GAAsB,CACpBY,mBAAmB,EACnBsC,SAAUG,KA1Bb,kDA8BDlB,QAAQC,IAAR,MACsB,kBAAlB,KAAM1I,SACRD,EAAS9B,EAAgB,CAAE4B,MAAK,QAElCE,EAASwG,GAAsB,CAAEW,mBAAmB,KAlCnD,iCAqCIwC,EAAiBjM,KAAKuM,eArC1B,0DALyB,wDEsEf7I,EA5EF,SAAC,GAOP,IANL+F,EAMI,EANJA,kBACAsC,EAKI,EALJA,SACAC,EAII,EAJJA,eACAjI,EAGI,EAHJA,OACAK,EAEI,EAFJA,MACAC,EACI,EADJA,gBACI,EACsCiG,mBAAS,GAD/C,oBACGiC,EADH,KACkBC,EADlB,OAEkClC,mBAAS,GAF3C,oBAEGxC,EAFH,KAEgB2E,EAFhB,OAG0BnC,mBAAS,IAAhCoC,EAHH,qBAMJC,qBAAU,WAUJtI,GATa,uCAAG,4BAAApE,EAAA,sEACU+L,EAC1BjI,EACAK,EACA0D,EACA,IALgB,cACZyE,EADY,gBAOZC,EAAiBD,GAPL,2CAAH,oDAUfK,KAED,CAAC7I,EAAQ+D,EAAakE,EAAgB5H,EAAOC,IAkBhD,OACE,yBAAKC,UAAWC,KAAOf,MACrB,yBAAKc,UAAWC,KAAOsI,gBACrB,wBAAIvI,UAAWC,KAAOuI,eAAtB,kBACA,kBAAC,IAAD,CAAM7H,GAAI1B,EAAM,IAASe,UAAWC,KAAOwI,oBACzC,wBAAIzI,UAAWC,KAAOyI,wBAAtB,kBACA,kBAACC,GAAA,EAAD,QAGJ,yBAAK3I,UAAWC,KAAO2I,cAxBzBzD,EACE,yBAAKnF,UAAWC,KAAOkC,YACrB,kBAACC,GAAA,EAAD,CAAiBhC,MAAO,CAAEK,SAAU,OAGtCgH,EAASR,KAAI,SAAC5B,GAAD,OACX,kBAAC,GAAD,eACEhH,IAAKgH,EAAQ0C,IACT1C,EAFN,CAGEvF,MAAOA,EACPL,OAAQA,SAeZ,yBAAKO,UAAWC,KAAO4I,YACrB,kBAAC,KAAD,CACEC,eAAgB,EAChBtF,YAAaA,EACbuF,MAAOd,GAAiB,GACxBe,SAAUZ,EACVa,iBAAiB,EACjBC,SAjDoB,SAACC,GAAD,OAAUhB,EAAegB,WCnB1CC,GAAa,WACxB,IAAMlL,EAASmL,aAAY,SAAChK,GAAD,OAAWA,EAAMiK,cAAcpL,UAC1D,OAAIA,EAEA,yBAAK8B,UAAU,kBACb,yBAAKA,UAAU,cACb,4BAAK9B,KAKN,MAGIqL,GAAe,WAC1B,OAAO,yBAAKvJ,UAAU,gBAAf,a,mBCTH0B,GAASC,OAAaC,MAAM,CAChCW,MAAOZ,OAAaE,WACpB2H,YAAa7H,OAAaE,WAC1B4H,KAAM9H,OAAaE,WACnBgE,QAASlE,SAGL+H,GAAmB,uCAAG,WAAOzH,EAAQnC,EAAO6J,GAAtB,eAAAhO,EAAA,6DACpBD,EAAO,CACX2J,QAAQ,2BACHpD,GADE,IAEL4D,QAAQ,aAAK,IAAI+D,IAAI3H,EAAO4D,QAAQgE,MAAM,UAJpB,kBAQlBhG,GAAiBnI,EAAMoE,GARL,OAUxBgK,YAAW,WACTH,GAAmB,KAClB,KAZqB,gDAcxBjD,QAAQC,IAAR,MAdwB,yDAAH,0DAmFVvH,gBAHS,SAACC,GAAD,MAAY,CAClCS,MAAOT,EAAME,YAAYC,YAAYM,SAExBV,EAjEO,SAAC,GAAe,IAAbU,EAAY,EAAZA,MAAY,EACWkG,oBAAS,GADpB,oBAC5B+D,EAD4B,KACXJ,EADW,KAsCnC,OACE,6BACE,kBAAC,KAAD,CACE7H,cAAe,CACbS,MAAO,GACPiH,YAAa,GACbC,KAAM,GACN5D,QAAS,IAEX9D,iBAAkB,kBAAML,IACxBM,SAAU,SAACC,EAAD,GAA4B,IAAjB+H,EAAgB,EAAhBA,UACnBN,GAAoBzH,EAAQnC,EAAO6J,GACnCK,IACAL,GAAmB,MAGpB,YACC,OArDW,SAACzH,GAClB,OACE,0BAAMF,SAAUE,GACd,yBAAKlC,UAAU,QACZ+J,EACC,kBAAC,GAAD,MAEA,oCACE,wBAAI/J,UAAU,SAAd,kBACA,wBAAIA,UAAU,cACd,uCACA,kBAAC,GAAD,CAAWH,KAAK,QAAQ6C,YAAY,mBACpC,8CACA,kBAAC,GAAD,CACE7C,KAAK,cACL6C,YAAY,yBAEd,uCACA,kBAAC,GAAD,CAAU7C,KAAK,OAAO6C,YAAY,kBAClC,uCACA,kBAAC,GAAD,CACE7C,KAAK,UACL6C,YAAY,+BAEd,kBAAC,KAAD,CACEC,KAAK,SACLE,MAAM,SACNzC,MAAO,CAAE6J,UAAW,YA0BnBjH,CADc,EAAnBd,qB,4DCwCG9C,gBAVS,SAACC,GAAD,MAAY,CAClCgG,QAAShG,EAAMmI,gBAAgBnC,QAC/BM,OAAQtG,EAAMmI,gBAAgBnC,QAAQM,OACtCR,kBAAmB9F,EAAMmI,gBAAgBrC,kBACzCrF,MAAOT,EAAME,YAAYC,YAAYM,MACrCL,OAAQJ,EAAME,YAAYC,YAAYC,OACtCH,SAAUD,EAAME,YAAYC,YAAYF,SACxCS,gBAAiBV,EAAME,YAAYC,YAAYO,mBAGT,CAAEmF,eAA3B9F,EAtHK,SAAC,GAWd,IAVLU,EAUI,EAVJA,MACAR,EASI,EATJA,SACAG,EAQI,EARJA,OACAM,EAOI,EAPJA,gBACAmK,EAMI,EANJA,SACA7E,EAKI,EALJA,QACAM,EAII,EAJJA,OACAT,EAGI,EAHJA,WACAC,EAEI,EAFJA,kBACAgF,EACI,EADJA,QAEQ5H,EAA4D8C,EAA5D9C,MAAOqD,EAAqDP,EAArDO,UAAWwE,EAA0C/E,EAA1C+E,UAAWZ,EAA+BnE,EAA/BmE,YAAaC,EAAkBpE,EAAlBoE,KAAM5D,EAAYR,EAAZQ,QACxDwC,qBAAU,WACR,IAAMjE,EAAO8F,EAASjG,SAClBlE,GACFmF,EAAWd,EAAMtE,EAAOL,KAEzB,CAACyK,EAAUhF,EAAYpF,EAAOL,EAAQM,IAEzC,IAAMsK,EAAsB,WAC1B,IAAMpG,EAAWiG,EAASjG,SAC1BI,GAAiBJ,EAAUnE,GAC3BqK,EAAQG,UAyEV,OACE,oCACGnF,EACC,yBAAKnF,UAAWC,KAAOkC,YACrB,kBAACC,GAAA,EAAD,CAAiBhC,MAAO,CAAEK,SAAU,IAAM4B,MAAI,KAxElD,yBAAKrC,UAAWC,KAAOoF,SACrB,yBAAKrF,UAAWC,KAAOsK,gBACrB,kBAAC,KAAD,CAAQC,IAAK7E,EAAO8E,MAAOC,KAAM,MACjC,wBAAI1K,UAAWC,KAAO0K,cAAtB,SACQ,0BAAM3K,UAAWC,KAAO2K,UAAWjF,EAAOrG,WAElD,0BAAMU,UAAWC,KAAO0K,cAAxB,QACO,0BAAM3K,UAAWC,KAAO2K,UAAWjF,EAAOkF,OAGnD,yBAAK7K,UAAWC,KAAO6K,gBACrB,wBAAI9K,UAAWC,KAAO0K,cAAtB,UACS,0BAAM3K,UAAWC,KAAO2K,UAAWrI,IAE5C,wBAAIvC,UAAWC,KAAO8K,iBAAtB,eACe,IACb,0BAAM/K,UAAWC,KAAO+K,aAAcxB,IAExC,0BAAMxJ,UAAWC,KAAOgL,aAAxB,aACa,IACX,0BAAMjL,UAAWC,KAAO+K,aACrB9N,EAAgB0I,KAGrB,0BAAM5F,UAAWC,KAAOgL,aAAxB,aACa,IACX,0BAAMjL,UAAWC,KAAO+K,aACrB9N,EAAgBkN,KAGrB,0BAAMpK,UAAWC,KAAOiL,aAAxB,SACQ,0BAAMlL,UAAWC,KAAO+K,aAAcvB,IAE9C,0BAAMzJ,UAAWC,KAAO4F,SAAxB,QACQ,IACLA,EAAQoB,KAAI,SAACC,GAAD,OACX,uBAAG7I,IAAK6I,EAAKlH,UAAWC,KAAOiH,KAC5BA,OAIP,yBAAKlH,UAAWC,KAAOkL,eACvB,yBAAKnL,UAAWC,KAAOmL,QACrB,yBAAKpL,UAAWC,KAAO2C,UACrB,kBAAC,IAAD,CACEjC,GAAE,UAAKuJ,EAASjG,SAAd,SACFoH,SAAU/L,IAAaqG,EAAOrG,SAC9BU,UAAU,oBAEV,0BAAMA,UAAU,0BAAhB,QACA,kBAACsL,GAAA,EAAD,OAEF,kBAAC,KAAD,CACE3I,KAAK,OACL0I,SAAU/L,IAAaqG,EAAOrG,SAC9BU,UAAWC,KAAOsL,UAClB7K,QAAS2J,GAET,wCACA,kBAACmB,GAAA,EAAD,eCsCDpM,gBATS,SAACC,GAAD,MAAY,CAClCO,cAAeP,EAAME,YAAYC,YAAYI,cAC7CG,gBAAiBV,EAAME,YAAYC,YAAYO,gBAC/CD,MAAOT,EAAME,YAAYC,YAAYM,MACrCL,OAAQJ,EAAME,YAAYC,YAAYC,OACtC0F,kBAAmB9F,EAAMmI,gBAAgBrC,kBACzCE,QAAShG,EAAMmI,gBAAgBnC,WAGO,CAAEH,eAA3B9F,EAtHc,SAAC,GAOvB,IANL+F,EAMI,EANJA,kBACAE,EAKI,EALJA,QACAvF,EAII,EAJJA,MACAL,EAGI,EAHJA,OACAyF,EAEI,EAFJA,WACAnF,EACI,EADJA,gBAEQwC,EAAsC8C,EAAtC9C,MAAOiH,EAA+BnE,EAA/BmE,YAAaC,EAAkBpE,EAAlBoE,KAAM5D,EAAYR,EAAZQ,QAD9B,EAEsCG,oBAAS,GAF/C,oBAEGyF,EAFH,KAEkBC,EAFlB,KAGEvB,EAAUwB,cACVC,EAAQC,YAAc,mBAC5BxD,qBAAU,WACR,GAAItI,EAAiB,CACnB,IAAIqE,EAAOwH,EAAM7P,IACjBmJ,EAAWd,EAAMtE,EAAOL,MAEzB,CAACK,EAAOL,EAAQyF,EAAYnF,IAE/B,IAkDM2B,EAASC,OAAaC,MAAM,CAChCW,MAAOZ,OACP6H,YAAa7H,OACb8H,KAAM9H,OACNkE,QAASlE,SAGX,OACE,6BACE,kBAAC,KAAD,CACEG,cAAe,CACbS,MAAO,GACPiH,YAAa,GACbC,KAAM,GACN5D,QAAS,IAEX9D,iBAAkB,kBAAML,GACxBM,SAAU,SAACC,IAnES,SAACA,GACzB,IAAM6J,EAA2BC,KAAEC,OACjC/J,GACA,SAACY,EAAOxE,GAAR,MAA0B,KAAVwE,KAEZnH,EAAO,CACX2J,QAAQ,2BACHyG,GADE,IAELjG,QAAQ,aAAK,IAAI+D,IAAI3H,EAAO4D,QAAQgE,MAAM,UAG1CzF,EAAO6H,OAAO/B,SAASjG,SAC3BG,EAAOwH,EAAM7P,IACboI,GAAiBC,EAAMtE,EAAOpE,GAC9BoO,YAAW,WACT4B,GAAiB,GACjBvB,EAAQG,WACP,KAmDG4B,CAAkBjK,GAClByJ,GAAiB,MAGlB,YAAuB,IAApBxJ,EAAmB,EAAnBA,aACF,OACE,oCACGiD,EACC,yBAAKnF,UAAWC,IAAOkC,YACrB,kBAACC,GAAA,EAAD,CAAiBhC,MAAO,CAAEK,SAAU,IAAM4B,MAAI,KAzD3C,SAACH,GAClB,OACE,0BAAMF,SAAUE,EAAclC,UAAWC,IAAOqC,UAC7CmJ,EACC,kBAAC,GAAD,MAEA,oCACE,wBAAIzL,UAAWC,IAAOsC,OAAtB,gBACA,wBAAIvC,UAAWC,IAAOuC,kBACtB,wCACA,kBAAC,GAAD,CAAW3C,KAAK,QAAQ4C,UAAU,QAAQC,YAAaH,IACvD,8CACA,kBAAC,GAAD,CACE1C,KAAK,cACL4C,UAAU,QACVC,YAAa8G,IAEf,uCACA,kBAAC,GAAD,CAAW3J,KAAK,OAAO4C,UAAU,QAAQC,YAAa+G,IACtD,0CACA,kBAAC,GAAD,CAAW5J,KAAK,UAAU4C,UAAU,QAAQC,YAAamD,IACzD,yBAAK7F,UAAWC,IAAO2C,UACrB,kBAAC,KAAD,CAAOD,KAAK,SAASE,MAAM,OAAOzC,MAAO,CAAE0C,MAAO,cAsChDE,CAAWd,WClGZ9C,gBAAQ,SAACC,GAAD,MAAY,CACjCI,OAAQJ,EAAME,YAAYC,YAAYC,UADzBL,EAbM,SAAC,GAAD,IAAc+M,EAAd,EAAG1J,UAAsBhD,EAAzB,EAAyBA,OAAW2M,EAApC,8CACnB,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAClL,GAAD,OACN1B,GAAUlD,aAAaiD,YACrB,kBAAC2M,EAAchL,GAEf,kBAAC,IAAD,CAAUR,GAAI1B,EAAO,oBCEdG,gBAAQ,SAACC,GAAD,MAAY,CACjCI,OAAQJ,EAAME,YAAYC,YAAYC,UADzBL,EATG,SAAC,GAAD,IAAc+M,EAAd,EAAG1J,UAAsBhD,EAAzB,EAAyBA,OAAW2M,EAApC,8CAChB,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAClL,GAAD,OACN1B,EAAS,kBAAC,IAAD,CAAUkB,GAAI1B,EAAM,OAAe,kBAACkN,EAAchL,UCsDlD/B,gBALS,SAACC,GAAD,MAAY,CAClCI,OAAQJ,EAAME,YAAYC,YAAYC,OACtCK,MAAOT,EAAME,YAAYC,YAAYM,SAGxBV,EA1CH,SAAC,GAAyB,IAAvBpB,EAAsB,EAAtBA,SAAU8B,EAAY,EAAZA,MAcvB,OAZAuI,qBAAU,WAER,GADArK,EAASc,KACLvC,aAAaiD,YAAa,CAC5B,IAAMA,GjBVclD,EiBUU,cjBVIT,KAAKyQ,MAAM/P,aAAaD,KiBW1D0B,EACEe,EAAyB,CAAES,cAAaO,iBAAiB,UAG3D/B,EAASgB,EAAyB,CAAEe,iBAAiB,KjBflC,IAACzD,IiBiBrB,CAAC0B,EAAU8B,IAGZ,yBAAKE,UAAU,OACb,kBAAC,EAAD,MACA,yBAAKA,UAAU,WACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOoE,KAAMnF,EAAM,KAAUsN,OAAK,EAAC9J,UAAW+J,KAC9C,kBAAC,GAAD,CAAWpI,KAAMnF,EAAO,WAAYwD,UAAWgK,KAC/C,kBAAC,GAAD,CAAWrI,KAAMnF,EAAO,WAAYwD,UAAWiK,KAC/C,kBAAC,GAAD,CAActI,KAAMnF,EAAM,IAASwD,UAAWkK,KAC9C,kBAAC,GAAD,CACEvI,KAAMnF,EAAO,gBACbsN,OAAK,EACL9J,UAAWmK,KAEb,kBAAC,IAAD,CAAOxI,KAAMnF,EAAO,gBAAiBsN,OAAK,EAAC9J,UAAWoK,KACtD,kBAAC,IAAD,CAAUlM,GAAI1B,EAAM,SAGxB,kBAAC,GAAD,U,+CC7BOM,GAAcuN,cAAa,oBAInCvO,GAAoB,SAACc,EAAD,GAA4C,IAAvBO,EAAsB,EAAjCmN,QAAWnN,cACxC,OAAO,2BACFP,GADL,IAEEG,YAAY,2BACPH,EAAMG,aADA,IAETI,uBAT8B,eAanCpB,GAAoB,SACnBa,EADmB,GAGf,IAAD,IADD0N,QAAWvN,EACV,EADUA,YAAaO,EACvB,EADuBA,gBAElBN,EAAuCD,EAAvCC,OAAQK,EAA+BN,EAA/BM,MAAOD,EAAwBL,EAAxBK,KAAMD,EAAkBJ,EAAlBI,cAC7B,OAAO,2BACFP,GADL,IAEEG,YAAa,CACXC,SACAH,SAAUO,EACVC,QACAF,gBACAG,wBAzB8B,eA6BnCtB,GAAoB,SAACY,EAAD,GAAoD,IAAD,IAAzC0N,QAAWnN,EAA8B,EAA9BA,cAAeH,EAAe,EAAfA,OACvD,OAAO,2BACFJ,GADL,IAEEG,YAAY,2BACPH,EAAMG,aADA,IAETI,gBACAH,gBAnC8B,eA0CnCf,GAAoB,SAACW,EAAD,GAA4C,IAAvBO,EAAsB,EAAjCmN,QAAWnN,cACxC,OAAO,2BACFP,GADL,IAEEG,YAAY,2BACPH,EAAMG,aADA,IAETI,uBA/C8B,eAmDnCjB,GAAoB,SACnBU,EADmB,GAGf,IAAD,IADD0N,QAAWvN,EACV,EADUA,YAAaO,EACvB,EADuBA,gBAElBN,EAAuCD,EAAvCC,OAAQK,EAA+BN,EAA/BM,MAAOD,EAAwBL,EAAxBK,KAAMD,EAAkBJ,EAAlBI,cAC7B,OAAO,2BACFP,GADL,IAEEG,YAAa,CACXC,SACAH,SAAUO,EACVC,QACAF,gBACAG,wBA/D8B,eAmEnCnB,GAAoB,SAACS,EAAD,GAAoD,IAAD,IAAzC0N,QAAWnN,EAA8B,EAA9BA,cAAeH,EAAe,EAAfA,OACvD,OAAO,2BACFJ,GADL,IAEEG,YAAY,2BACPH,EAAMG,aADA,IAETI,gBACAH,gBAzE8B,eA+EnCZ,GAAS,SAACQ,EAAD,GAAkF,IAAD,IAAvE0N,QAAWtN,EAA4D,EAA5DA,OAAQG,EAAoD,EAApDA,cAAeE,EAAqC,EAArCA,MAAOD,EAA8B,EAA9BA,KAAME,EAAwB,EAAxBA,gBACjE,OAAO,2BACFV,GADL,IAEEG,YAAa,CACXC,SACAH,SAAUO,EACVC,QACAF,gBACAG,wBAvF8B,eA2FnCjB,GAA2B,SAACO,EAAD,GAAwB,EAAd0N,QACpC,OAAO,eAAK1N,MA5FsB,eA8FnCN,GAA2B,SAC1BM,EAD0B,GAGtB,IAAD,IADD0N,QAAWvN,EACV,EADUA,YAAaO,EACvB,EADuBA,gBAElBN,EAAuCD,EAAvCC,OAAQK,EAA+BN,EAA/BM,MAAOD,EAAwBL,EAAxBK,KAAMD,EAAkBJ,EAAlBI,cAC7B,OAAO,2BACFP,GADL,IAEEG,YAAa,CACXC,SACAH,SAAUO,EACVC,QACAF,gBACAG,wBA1G8B,eA8GnCf,GAA2B,SAACK,EAAD,GAA8C,IAAzBU,EAAwB,EAAnCgN,QAAWhN,gBAC/C,OAAO,2BACFV,GADL,IAEEG,YAAY,2BACPH,EAAMG,aADA,IAETO,yBAnH8B,GAVrB,CACjBP,YAAa,CACXC,QAAQ,EACRH,SAAU,KACVQ,MAAO,KACPF,eAAe,EACfG,iBAAiB,KCbRuJ,GAAgBwD,aAAc,gBAEtC5Q,GAAkB,SAACmD,EAAD,GAAoC,IAAfvB,EAAc,EAAzBiP,QAAWjP,MACtC,OAAO,2BACFuB,GADL,IAEEnB,OAAQJ,EAAMG,aATH,CACjBC,OAAQ,OCgCGsJ,GAAkBsF,cAAa,kBAAC,EAGxCxI,IAAwB,SAACjF,EAAD,OAAqB8F,EAArB,EAAU4H,QAAW5H,kBAArB,mBAAC,eACrB9F,GADoB,IAEvB8F,yBALsC,aAAC,EAOxCZ,IAAwB,SACvBlF,EADuB,WAErB0N,QAAW5H,EAFU,EAEVA,kBAAmBsC,EAFT,EAESA,SAFT,mBAAC,eAIrBpI,GAJoB,IAKvB8F,oBACAsC,gBAbsC,aAAC,EAexCjD,IAAwB,SAACnF,EAAD,OAAqB8F,EAArB,EAAU4H,QAAW5H,kBAArB,mBAAC,eACrB9F,GADoB,IAEvB8F,yBAjBsC,aAAC,EAoBxCV,IAAqB,SAACpF,EAAD,KAAU0N,QAAV,sBAA8B1N,MApBZ,aAAC,EAqBxCqF,IAAqB,SAACrF,EAAD,GAA+C,IAAD,IAApC0N,QAAWrH,EAAyB,EAAzBA,WAAY9B,EAAa,EAAbA,KAC/CoJ,EAAc3N,EAAMoI,SAASR,KAAI,SAAC5B,GACtC,OAAIA,EAAQzB,OAASA,EACZ,aAAEmE,GAAI1C,EAAQ0C,IAAOrC,GAEvBL,KAET,OAAO,2BACFhG,GADL,IAEEoI,SAAS,aAAKuF,QA9BsB,aAAC,EAiCxCrI,IAAqB,SAACtF,EAAD,KAAU0N,QAAV,sBAA8B1N,MAjCZ,aAAC,EAmCxCuF,IAAwB,SAACvF,EAAD,KAAU0N,QAAV,sBAA8B1N,MAnCf,aAAC,EAoCxCwF,IAAwB,SAACxF,EAAD,GAA+C,IAAD,IAApC0N,QAAWrH,EAAyB,EAAzBA,WAAY9B,EAAa,EAAbA,KAClDoJ,EAAc3N,EAAMoI,SAASR,KAAI,SAAC5B,GACtC,OAAIA,EAAQzB,OAASA,EACZ,aAAEmE,GAAI1C,EAAQ0C,IAAOrC,GAEvBL,KAET,OAAO,2BACFhG,GADL,IAEEoI,SAAS,aAAKuF,QA7CsB,aAAC,EAgDxClI,IAAwB,SAACzF,EAAD,KAAU0N,QAAV,sBAA8B1N,MAhDf,aAAC,EAmDxC0F,IAAiB,SAAC1F,EAAD,GAAgD,IAA3B8F,EAA0B,EAArC4H,QAAW5H,kBACrC,OAAO,2BAAK9F,GAAZ,IAAmB8F,yBApDmB,aAAC,EAsDxCH,IAAiB,SAAC3F,EAAD,GAAyD,IAAD,IAA9C0N,QAAW5H,EAAmC,EAAnCA,kBAAmBE,EAAgB,EAAhBA,QACxD,OAAO,2BACFhG,GADL,IAEE8F,oBACAE,eA1DoC,aAAC,EA6DxCJ,IAAiB,SAAC5F,EAAD,GAAgD,IAA3B8F,EAA0B,EAArC4H,QAAW5H,kBACrC,OAAO,2BAAK9F,GAAZ,IAAmB8F,yBA9DmB,GApBzB,CACjBsC,SAAU,GACVtC,mBAAmB,EACnBE,QAAS,CACP9C,MAAO,GACPqD,UAAW,GACXwE,UAAW,GACXZ,YAAa,GACbC,KAAM,GACN5D,QAAS,GACTE,WAAW,EACXD,eAAgB,GAChBH,OAAQ,CACNrG,SAAU,GACVuL,IAAK,GACLJ,MAAO,OC1BAwC,GAAcC,2BAAgB,CACzC3N,eACA+J,iBACA9B,qBCHW2F,GAAQC,uBACnBH,GACAI,+BAAoBC,2BAAgBC,QCEtCC,IAASnB,OACP,kBAAC,IAAMoB,WAAP,KACE,kBAAC,IAAD,CAAUN,MAAOA,IACf,kBAAC,IAAD,KACE,kBAAC,GAAD,SAINO,SAASC,eAAe,U,mBChB1BzS,EAAOC,QAAU,CAAC,gBAAkB,iCAAiC,QAAU,yBAAyB,KAAO,sBAAsB,MAAQ,uBAAuB,UAAY,2BAA2B,UAAY,2BAA2B,OAAS,wBAAwB,MAAQ,uBAAuB,KAAO,sBAAsB,IAAM,uB,mBCArVD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,aAAe,2BAA2B,mBAAqB,iCAAiC,uBAAyB,qCAAqC,WAAa,yBAAyB,WAAa,4B","file":"static/js/main.e7eb2c3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"ArticleInfo_article__QQkTN\",\"articleProfile\":\"ArticleInfo_articleProfile__1IVVm\",\"articleTitle\":\"ArticleInfo_articleTitle__1EjYj\",\"articleSubtitle\":\"ArticleInfo_articleSubtitle__rspfW\",\"bio\":\"ArticleInfo_bio__3lxWR\",\"articleText\":\"ArticleInfo_articleText__2KvbF\",\"textWrap\":\"ArticleInfo_textWrap__p9rA2\",\"articleDate\":\"ArticleInfo_articleDate__33BLZ\",\"articleBody\":\"ArticleInfo_articleBody__1VaMK\",\"articleContent\":\"ArticleInfo_articleContent__1UmRo\",\"tagList\":\"ArticleInfo_tagList__2RUcH\",\"tag\":\"ArticleInfo_tag__1Bef2\",\"footer\":\"ArticleInfo_footer__1AJL8\",\"likes\":\"ArticleInfo_likes__2_0cm\",\"lineUpFooter\":\"ArticleInfo_lineUpFooter__1Y7Am\",\"footerLikes\":\"ArticleInfo_footerLikes__3S1BG\",\"btnsWrap\":\"ArticleInfo_btnsWrap__258l5\",\"btnDelete\":\"ArticleInfo_btnDelete__1n2pZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3kNPY\",\"info\":\"Header_info__1gRFb\",\"nameUser\":\"Header_nameUser__32lqn\",\"linkUser\":\"Header_linkUser__1hCqs\",\"linkUserText\":\"Header_linkUserText__bqqzf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formAuth\":\"Auth_formAuth__2gx4L\",\"title\":\"Auth_title__1Kcj5\",\"btnsWrap\":\"Auth_btnsWrap__1iG-V\",\"successModal\":\"Auth_successModal__3ehlu\"};","export const URL = 'https://conduit.productionready.io/api';\r\n","import axios from 'axios';\r\nimport { URL } from '../../constants/url.constants/index';\r\n\r\nconst optionsAuth = {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n  },\r\n  json: true,\r\n};\r\n\r\nexport const fetchSignUpApi = async (data) => {\r\n  const response = await axios({\r\n    ...optionsAuth,\r\n    data: JSON.stringify(data),\r\n    url: `${URL}/users`,\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchSignInApi = async (data) => {\r\n  const response = await axios({\r\n    ...optionsAuth,\r\n    data: JSON.stringify(data),\r\n    url: `${URL}/users/login`,\r\n  });\r\n  return response;\r\n};\r\n","import { createAction } from 'redux-actions';\r\n\r\nexport const setErrorNetwork = createAction('ERROR_NETWORK');\r\n","import {\r\n  differenceInMinutes,\r\n  differenceInHours,\r\n  differenceInDays,\r\n  parseISO,\r\n} from 'date-fns';\r\nimport {\r\n  setErrorNetwork,\r\n} from '../redux/actions/errors';\r\n\r\n// local database\r\n\r\nexport const setItemDB = (nameItem, valueItem) =>\r\n  localStorage.setItem(nameItem, JSON.stringify(valueItem));\r\nexport const removeItemDB = (nameItem) => localStorage.removeItem(nameItem);\r\n\r\nexport const getItemDB = (valueItem) => JSON.parse(localStorage[valueItem]);\r\n\r\n// date\r\n\r\nexport default class DiffTime {\r\n  constructor(timeNow, timeCreatedAt) {\r\n    this.timeNow = timeNow;\r\n    this.timeCreatedAt = timeCreatedAt;\r\n  }\r\n\r\n  getDay() {\r\n    return differenceInDays(this.timeNow, this.timeCreatedAt);\r\n  }\r\n\r\n  getHours() {\r\n    let diffHours = differenceInHours(this.timeNow, this.timeCreatedAt);\r\n    diffHours %= 24;\r\n    return diffHours;\r\n  }\r\n\r\n  getMinutes() {\r\n    let diffMinutes = differenceInMinutes(this.timeNow, this.timeCreatedAt);\r\n    diffMinutes %= 60;\r\n    return diffMinutes;\r\n  }\r\n}\r\n\r\nexport const getFormatedDate = (date) => {\r\n  const diffTime = new DiffTime(new Date(), parseISO(date));\r\n  const diffDay = diffTime.getDay();\r\n  const diffHours = diffTime.getHours();\r\n  const diffMinutes = diffTime.getMinutes();\r\n\r\n  const validateTimeEmpty = (diffItem, nameItem) =>\r\n    diffItem !== 0 ? `${diffItem} ${nameItem}` : '';\r\n\r\n  const renderTimeAfterCreation = () => {\r\n    if (diffDay === 0 && diffHours === 0 && diffMinutes === 0) return 'now';\r\n    return `${validateTimeEmpty(diffDay, 'days')} ${validateTimeEmpty(\r\n      diffHours,\r\n      'hours'\r\n    )} ${validateTimeEmpty(diffMinutes, 'minutes')} ago`;\r\n  };\r\n\r\n  return renderTimeAfterCreation();\r\n};\r\n\r\n// errors auth\r\n\r\nexport const errorsSignInProcessing = (error, setFieldError, dispatch) => {\r\n  if (error.message === 'Network Error') {\r\n    dispatch(setErrorNetwork({ error }));\r\n  }\r\n  const responseErrors = error.response.data.errors;\r\n\r\n  if (responseErrors['email or password']) {\r\n    setFieldError('email', 'email or password is invalid');\r\n    setFieldError('password', 'email or password is invalid');\r\n  }\r\n};\r\n\r\nexport const errorsSignUpProcessing = (error, setFieldError, dispatch) => {\r\n  if (error.message === 'Network Error') {\r\n    dispatch(setErrorNetwork({ error }));\r\n  }\r\n\r\n  const responseErrors = error.response.data.errors;\r\n  for (const key in responseErrors) {\r\n    setFieldError(key.toString(), responseErrors[key][0]);\r\n  }\r\n};\r\n","import { createAction } from 'redux-actions';\r\nimport { fetchSignInApi, fetchSignUpApi } from '../../../api/auth/index';\r\nimport {\r\n  setItemDB,\r\n  errorsSignInProcessing,\r\n  errorsSignUpProcessing,\r\n} from '../../../utils/index';\r\n\r\nexport const signUpUserRequest = createAction('USER_SIGNUP_REQUEST');\r\nexport const signUpUserSuccess = createAction('USER_SIGNUP_SUCCESS');\r\nexport const signUpUserFailure = createAction('USER_SIGNUP_FAILURE');\r\n\r\n// sign-up\r\n\r\nexport const signUpAuth = ({\r\n  username,\r\n  email,\r\n  password,\r\n  setFieldError,\r\n}) => async (dispatch) => {\r\n  dispatch(signUpUserRequest({ isLoadingAuth: true }));\r\n  try {\r\n    const data = {\r\n      user: { email, password, username },\r\n    };\r\n    const response = await fetchSignUpApi(data);\r\n    const token = await response.data.user.token;\r\n    const name = await response.data.user.username;\r\n\r\n    const currentUser = {\r\n      isAuth: true,\r\n      name: name,\r\n      token: token,\r\n      isLoadingAuth: false,\r\n    };\r\n    setItemDB('currentUser', currentUser);\r\n\r\n    await dispatch(\r\n      signUpUserSuccess({\r\n        currentUser,\r\n        isFirstValidate: true,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    errorsSignUpProcessing(error, setFieldError, dispatch);\r\n    dispatch(\r\n      signUpUserFailure({\r\n        isAuth: false,\r\n        isLoadingAuth: false,\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\n// sign-in\r\n\r\nexport const signInUserRequest = createAction('USER_SIGNIN_REQUEST');\r\nexport const signInUserSuccess = createAction('USER_SIGNIN_SUCCESS');\r\nexport const signInUserFailure = createAction('USER_SIGNIN_FAILURE');\r\n\r\nexport const signInAuth = ({\r\n  username,\r\n  email,\r\n  password,\r\n  setFieldError,\r\n}) => async (dispatch) => {\r\n  dispatch(signInUserRequest({ isLoadingAuth: true }));\r\n  try {\r\n    const data = {\r\n      user: { email, password, username },\r\n    };\r\n    const response = await fetchSignInApi(data);\r\n    const token = await response.data.user.token;\r\n    const name = await response.data.user.username;\r\n\r\n    const currentUser = {\r\n      isAuth: true,\r\n      name: name,\r\n      token: token,\r\n      isLoadingAuth: false,\r\n    };\r\n    setItemDB('currentUser', currentUser);\r\n\r\n    dispatch(\r\n      signInUserSuccess({\r\n        currentUser,\r\n        isFirstValidate: true,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    errorsSignInProcessing(error, setFieldError, dispatch);\r\n    dispatch(\r\n      signInUserFailure({\r\n        isAuth: false,\r\n        isLoadingAuth: false,\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\n// log-out\r\n\r\nexport const logout = createAction('LOG_OUT_PROFILE');\r\n\r\n// first validate user\r\n\r\nexport const firstValidateUserRequest = createAction(\r\n  'USER_FIRST_VALIDATE_REQUEST'\r\n);\r\nexport const firstValidateUserSuccess = createAction(\r\n  'USER_FIRST_VALIDATE_SUCCESS'\r\n);\r\nexport const firstValidateUserFailure = createAction(\r\n  'USER_FIRST_VALIDATE_FAILURE'\r\n);\r\n","const routes = {\r\n  home: '/',\r\n  add: '/add',\r\n  'sign-in': '/sign-in',\r\n  'sign-up': '/sign-up',\r\n  'article-edit': '/articles/:slug/edit',\r\n  'article-info': '/articles/:slug',\r\n};\r\nexport default routes;\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport { Divider } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { ExportOutlined, HomeOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout } from '../../redux/actions/auth/index';\r\nimport { removeItemDB } from '../../utils/index';\r\nimport routes from '../../constants/routes.constants/index';\r\n\r\nconst Header = ({ isAuth, dispatch, username }) => {\r\n  const handleLogout = () => {\r\n    removeItemDB('currentUser');\r\n    dispatch(\r\n      logout({\r\n        isAuth: false,\r\n        isLoadingAuth: false,\r\n        name: null,\r\n        token: null,\r\n        isFirstValidate: true,\r\n      })\r\n    );\r\n  };\r\n\r\n  const renderInfoUser = () => {\r\n    if (isAuth || localStorage.currentUser) {\r\n      return (\r\n        <>\r\n          <h3 className={styles.nameUser}>{username}</h3>\r\n          <ExportOutlined style={{ fontSize: '24px' }} onClick={handleLogout} />\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <Link to={routes['sign-in']} className={styles.linkUser}>\r\n          <span className={styles.linkUserText}>Sign in</span>\r\n          <HomeOutlined />\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.header}>\r\n      <Divider orientation=\"left\" style={{ minWidth: '0' }}>\r\n        Blog\r\n      </Divider>\r\n      <div className={styles.info}>{renderInfoUser()}</div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  username: state.reducerAuth.currentUser.username,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from 'react';\r\nimport { ErrorMessage } from 'formik';\r\nimport { Input } from 'formik-antd';\r\n\r\nconst renderError = (msg) => <span style={{ color: 'red' }}>{msg}</span>;\r\n\r\nexport const FormArea = ({ name, ...props }) => (\r\n  <div>\r\n    <Input.TextArea name={name} {...props} />\r\n    <ErrorMessage name={name}>{(msg) => renderError(msg)}</ErrorMessage>\r\n  </div>\r\n);\r\n\r\nexport const FormInput = ({ name, ...props }) => (\r\n  <div>\r\n    <Input name={name} {...props} />\r\n    <ErrorMessage name={name}>{(msg) => renderError(msg)}</ErrorMessage>\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport styles from '../Auth.module.css';\r\nimport { Formik } from 'formik';\r\nimport { Input } from 'formik-antd';\r\nimport * as yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserAddOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { FormInput } from '../../formFields/index';\r\nimport { signInAuth } from '../../../redux/actions/auth';\r\nimport routes from '../../../constants/routes.constants/index';\r\n\r\nconst FormSignIn = (props) => {\r\n  const renderForm = (handleSubmit) => {\r\n    if (props.isLoadingAuth) {\r\n      return (\r\n        <div className={styles.loaderWrap}>\r\n          <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <form onSubmit={handleSubmit} className={styles.formAuth}>\r\n          <h1 className={styles.title}>Login</h1>\r\n          <hr className={styles.lineBottomTitle} />\r\n          <label>Email</label>\r\n          <FormInput\r\n            name=\"email\"\r\n            component=\"input\"\r\n            placeholder=\"enter email...\"\r\n          />\r\n          <label>Password</label>\r\n          <FormInput\r\n            name=\"password\"\r\n            type=\"password\"\r\n            component=\"input\"\r\n            placeholder=\"enter password...\"\r\n          />\r\n          <div className={styles.btnsWrap}>\r\n            <Input type=\"submit\" value=\"Sign in\" style={{ width: '100px' }} />\r\n            <Link to={routes['sign-up']} className=\"linkWithImageRigth\">\r\n              <span className='linkWithImageRigthText'>Registration</span>\r\n              <UserAddOutlined />\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      );\r\n    }\r\n  };\r\n\r\n  const schema = yup.object().shape({\r\n    email: yup.string().email('Not correct email').required('Enter email'),\r\n    password: yup.string().required('Enter password'),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          email: 'toniktoo@gmail.com',\r\n          password: 'Swimm1998er',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values, { setFieldError }) => {\r\n          const { email, password } = values;\r\n          props.signInAuth({ email, password, setFieldError });\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return renderForm(handleSubmit);\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoadingAuth: state.reducerAuth.currentUser.isLoadingAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { signInAuth })(FormSignIn);\r\n","import React from 'react';\r\nimport styles from '../Auth.module.css';\r\nimport { Formik } from 'formik';\r\nimport { Input } from 'formik-antd';\r\nimport * as yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserAddOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { FormInput } from '../../formFields/index';\r\nimport { signUpAuth } from '../../../redux/actions/auth';\r\nimport routes from '../../../constants/routes.constants/index';\r\n\r\nconst FormSignUp = (props) => {\r\n  const renderForm = (handleSubmit) => {\r\n    if (props.isLoadingAuth) {\r\n      return (\r\n        <div className={styles.loaderWrap}>\r\n          <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <form onSubmit={handleSubmit} className={styles.formAuth}>\r\n          <h1 className={styles.title}>Registration</h1>\r\n          <hr className={styles.lineBottomTitle} />\r\n          <label>Username</label>\r\n          <FormInput\r\n            name=\"username\"\r\n            component=\"input\"\r\n            placeholder=\"enter username...\"\r\n          />\r\n          <label>Email</label>\r\n          <FormInput\r\n            name=\"email\"\r\n            component=\"input\"\r\n            placeholder=\"enter email...\"\r\n          />\r\n          <label>Password</label>\r\n          <FormInput\r\n            name=\"password\"\r\n            type=\"password\"\r\n            component=\"input\"\r\n            placeholder=\"enter password...\"\r\n          />\r\n          <div className={styles.btnsWrap}>\r\n            <Input type=\"submit\" value=\"Sign in\" style={{ width: '100px' }} />\r\n            <Link to={routes['sign-in']} className=\"linkWithImageRigth\">\r\n              <span className=\"linkWithImageRigthText\">Login</span>\r\n              <UserAddOutlined />\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      );\r\n    }\r\n  };\r\n\r\n  const schema = yup.object().shape({\r\n    username: yup\r\n      .string()\r\n      .max(50, 'no more than 50 characters')\r\n      .required('Заполните имя'),\r\n    email: yup.string().email('Not correct email').required('Enter email'),\r\n    password: yup\r\n      .string()\r\n      .required('Enter password')\r\n      .matches(\r\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/,\r\n        'Password between 8 and 40 characters, at least one number and one capital letter'\r\n      ),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          email: 'toniktoo@mail.ru',\r\n          password: 'Swimm1998er',\r\n          username: 'toniktoo',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values, { setFieldError }) => {\r\n          const { email, password, username } = values;\r\n          props.signUpAuth({ email, password, username, setFieldError });\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return renderForm(handleSubmit);\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoadingAuth: state.reducerAuth.currentUser.isLoadingAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { signUpAuth })(FormSignUp);\r\n","import axios from 'axios';\r\nimport { URL } from '../../constants/url.constants/index';\r\n\r\nconst optionsWithoutToken = {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n  },\r\n};\r\n\r\nconst headersWithToken = (token) => ({\r\n  'Content-Type': 'application/json;charset=utf-8',\r\n  Authorization: `Token ${token}`,\r\n});\r\n\r\nexport const fetchAllArticlesWithoutTokenApi = async (\r\n  currentPage,\r\n  limitCount\r\n) => {\r\n  const response = await axios({\r\n    ...optionsWithoutToken,\r\n    method: 'GET',\r\n    url: `${URL}/articles?limit=${limitCount}&offset=${(currentPage - 1) * 10}`,\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchAllArticlesWithTokenApi = async (\r\n  token,\r\n  currentPage,\r\n  limitCount\r\n) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}/articles?limit=${limitCount}&offset=${(currentPage - 1) * 10}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchArticleApi = async (slug, token) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}/articles/${slug}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const createArticleApi = async (data, token) => {\r\n  const response = await axios({\r\n    method: 'POST',\r\n    url: `${URL}/articles`,\r\n    headers: headersWithToken(token),\r\n    data: JSON.stringify(data),\r\n  });\r\n  return response;\r\n};\r\n\r\n// like and dislike\r\nexport const setLikeArticleApi = async (slug, token) => {\r\n  const response = await axios({\r\n    method: 'POST',\r\n    url: `${URL}/articles/${slug}/favorite`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const setDislikeArticleApi = async (slug, token) => {\r\n  const response = await axios({\r\n    method: 'DELETE',\r\n    url: `${URL}/articles/${slug}/favorite`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\n// get one article with pathname\r\n\r\nexport const fetchArticlePathNameWithTokenApi = async (pathname, token) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}${pathname}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\nexport const fetchArticlePathNameApi = async (pathname) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}${pathname}`,\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n    },\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const updateArticleApi = async (path, token, data) => {\r\n  const response = await axios({\r\n    method: 'PUT',\r\n    url: `${URL}${path}`,\r\n    data: JSON.stringify(data),\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const deleteArticleApi = async (pathname, token) => {\r\n  const response = await axios({\r\n    method: 'DELETE',\r\n    url: `${URL}${pathname}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n","import { createAction } from 'redux-actions';\r\nimport { uniqueId } from 'lodash';\r\nimport {\r\n  fetchAllArticlesWithTokenApi,\r\n  fetchAllArticlesWithoutTokenApi,\r\n  setLikeArticleApi,\r\n  setDislikeArticleApi,\r\n  fetchArticlePathNameWithTokenApi,\r\n  fetchArticlePathNameApi,\r\n} from '../../../api/articles/index';\r\nimport { setErrorNetwork } from '../errors';\r\n\r\nexport const getArticlesAllRequest = createAction('GET_ARTICLES_ALL_REQUEST');\r\nexport const getArticlesAllSuccess = createAction('GET_ARTICLES_ALL_SUCCESS');\r\nexport const getArticlesAllFailure = createAction('GET_ARTICLES_ALL_FAILURE');\r\n\r\nexport const getAllArticles = (\r\n  isAuth,\r\n  token,\r\n  currentPage,\r\n  limitCount\r\n) => async (dispatch) => {\r\n  dispatch(getArticlesAllRequest({ isLoadingArticles: true }));\r\n  let responseArticles = null;\r\n  try {\r\n    if (isAuth) {\r\n      responseArticles = await fetchAllArticlesWithTokenApi(\r\n        token,\r\n        currentPage,\r\n        limitCount\r\n      );\r\n    } else {\r\n      responseArticles = await fetchAllArticlesWithoutTokenApi(\r\n        currentPage,\r\n        limitCount\r\n      );\r\n    }\r\n\r\n    const articlesWithId = responseArticles.data.articles.map(\r\n      (item, index) => ({\r\n        id: uniqueId(),\r\n        ...item,\r\n      })\r\n    );\r\n    dispatch(\r\n      getArticlesAllSuccess({\r\n        isLoadingArticles: false,\r\n        articles: articlesWithId,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n    if (error.message === 'Network Error') {\r\n      dispatch(setErrorNetwork({ error }));\r\n    }\r\n    dispatch(getArticlesAllFailure({ isLoadingArticles: false }));\r\n  }\r\n\r\n  return responseArticles.data.articlesCount;\r\n};\r\n\r\nexport const articleLikeRequest = createAction('ARTICLE_LIKE_REQUEST');\r\nexport const articleLikeSuccess = createAction('ARTICLE_LIKE_SUCCESS');\r\nexport const articleLikeFailure = createAction('ARTICLE_LIKE_FAILURE');\r\n\r\nexport const articleDislikeRequest = createAction('ARTICLE_DISLIKE_REQUEST');\r\nexport const articleDislikeSuccess = createAction('ARTICLE_DISLIKE_SUCCESS');\r\nexport const articleDislikeFailure = createAction('ARTICLE_DISLIKE_FAILURE');\r\n\r\nexport const setLikeArticle = (isLike, slug, token) => async (dispatch) => {\r\n  if (isLike) {\r\n    //если лайк поставлен- то его нужно убрать\r\n    dispatch(articleDislikeRequest({ isLoadingLike: true }));\r\n    try {\r\n      const responseArticle = await setDislikeArticleApi(slug, token);\r\n      const newArticle = responseArticle.data.article;\r\n      dispatch(\r\n        articleDislikeSuccess({ newArticle, slug, isLoadingLike: false })\r\n      );\r\n    } catch (error) {\r\n      if (error.message === 'Network Error') {\r\n        dispatch(setErrorNetwork({ error }));\r\n      }\r\n      dispatch(articleDislikeFailure({ isLoadingLike: false }));\r\n    }\r\n  } else {\r\n    //усли лайка нет - то его нужно поставить\r\n    dispatch(articleLikeRequest());\r\n    try {\r\n      const responseArticle = await setLikeArticleApi(slug, token);\r\n      const newArticle = responseArticle.data.article;\r\n      dispatch(articleLikeSuccess({ newArticle, slug }));\r\n    } catch (error) {\r\n      if (error.message === 'Network Error') {\r\n        dispatch(setErrorNetwork({ error }));\r\n      }\r\n      await dispatch(articleLikeFailure());\r\n    }\r\n  }\r\n};\r\n\r\n// get one article\r\n\r\nexport const articleRequest = createAction('ARTICLE_REQUEST');\r\nexport const articleSuccess = createAction('ARTICLE_SUCCESS');\r\nexport const articleFailure = createAction('ARTICLE_FAILURE');\r\n\r\nexport const getArticle = (path, token, isAuth) => async (dispatch) => {\r\n  dispatch(articleRequest({ isLoadingArticles: true }));\r\n  try {\r\n    let articleResponse = null;\r\n    if (isAuth) {\r\n      articleResponse = await fetchArticlePathNameWithTokenApi(path, token);\r\n    } else {\r\n      articleResponse = await fetchArticlePathNameApi(path);\r\n    }\r\n    const article = articleResponse.data.article;\r\n    dispatch(articleSuccess({ isLoadingArticles: false, article }));\r\n  } catch (error) {\r\n    if (error.message === 'Network Error') {\r\n      dispatch(setErrorNetwork({ error }));\r\n    }\r\n    dispatch(articleFailure({ isLoadingArticles: false }));\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Popover } from 'antd';\r\nimport { HeartOutlined, HeartFilled } from '@ant-design/icons';\r\nimport { getFormatedDate } from '../../../utils/index';\r\nimport styles from './Article.module.css';\r\nimport { fetchArticleApi } from '../../../api/articles/index';\r\nimport { setLikeArticle } from '../../../redux/actions/articles/index';\r\n\r\nconst ArticleItem = ({\r\n  title,\r\n  author,\r\n  createdAt,\r\n  tagList,\r\n  favoritesCount,\r\n  slug,\r\n  favorited,\r\n  setLikeArticle,\r\n  token,\r\n  isAuth,\r\n}) => {\r\n  const [isLikeLocal, setIsLikeLocal] = useState(favorited);\r\n  const [isLikeCountLocal, setIsLikeCountLocal] = useState(favoritesCount);\r\n\r\n  const handleLikeArticle = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const res = await fetchArticleApi(slug, token);\r\n      const isLike = res.data.article.favorited;\r\n      setLikeArticle(isLike, slug, token);\r\n      //чтобы не ждать ответа с сервера , сразу меняем ui\r\n      setIsLikeLocal(!favorited);\r\n      if (favorited) {\r\n        setIsLikeCountLocal((count) => count - 1);\r\n      } else {\r\n        setIsLikeCountLocal((count) => count + 1);\r\n      }\r\n    } catch (error) {\r\n      console.log(`error component article ${error}`);\r\n    }\r\n  };\r\n  const contenPopover = (\r\n    <div style={{ width: '200px' }}>\r\n      <p>\r\n        {isAuth\r\n          ? 'like or dislike this article'\r\n          : 'sign in to like this article'}\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Link to={`/articles/${slug}`} className={styles.articleLinkWrap}>\r\n      <div className={styles.article}>\r\n        <div className={styles.contentWrap}>\r\n          <span className={styles.date}>{getFormatedDate(createdAt)}</span>\r\n          <h3 className={styles.title}>{title}</h3>\r\n          <div className={styles.autorWrap}>\r\n            Autor\r\n            <span className={styles.author}>{author.username}</span>\r\n          </div>\r\n          <div>\r\n            <div className={styles.tags}>\r\n              Tags:\r\n              {tagList.map((tag) => (\r\n                <p key={tag} className={styles.tag}>\r\n                  {tag}\r\n                </p>\r\n              ))}\r\n            </div>\r\n            <Popover\r\n              title=\"Note\"\r\n              trigger=\"hover\"\r\n              content={contenPopover}\r\n              className={styles.likes}\r\n              onClick={handleLikeArticle}\r\n            >\r\n              {isLikeLocal ? <HeartFilled /> : <HeartOutlined />}\r\n              {` ${isLikeCountLocal}`}\r\n            </Popover>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default connect(null, { setLikeArticle })(ArticleItem);\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Home.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DiffOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { Pagination } from 'antd';\r\nimport ArticleItem from '../articles/item/index';\r\nimport { getAllArticles } from '../../redux/actions/articles/index';\r\nimport routes from '../../constants/routes.constants/index';\r\n\r\nconst Home = ({\r\n  isLoadingArticles,\r\n  articles,\r\n  getAllArticles,\r\n  isAuth,\r\n  token,\r\n  isFirstValidate,\r\n}) => {\r\n  const [articlesCount, setArticlesCount] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [articlesCountOnPage] = useState(10);\r\n\r\n  const onChangeCurrentPage = (page) => setCurrentPage(page);\r\n  useEffect(() => {\r\n    const getArticles = async () => {\r\n      const articlesCount = await getAllArticles(\r\n        isAuth,\r\n        token,\r\n        currentPage,\r\n        10\r\n      );\r\n      await setArticlesCount(articlesCount);\r\n    };\r\n    if (isFirstValidate) {\r\n      getArticles();\r\n    }\r\n  }, [isAuth, currentPage, getAllArticles, token, isFirstValidate]);\r\n\r\n  const renderArticles = () =>\r\n    isLoadingArticles ? (\r\n      <div className={styles.loaderWrap}>\r\n        <LoadingOutlined style={{ fontSize: 40 }} />\r\n      </div>\r\n    ) : (\r\n      articles.map((article) => (\r\n        <ArticleItem\r\n          key={article.id}\r\n          {...article}\r\n          token={token}\r\n          isAuth={isAuth}\r\n        />\r\n      ))\r\n    );\r\n\r\n  return (\r\n    <div className={styles.home}>\r\n      <div className={styles.articlesHeader}>\r\n        <h2 className={styles.articlesTitle}>Articles List:</h2>\r\n        <Link to={routes['add']} className={styles.articlesCreateLink}>\r\n          <h3 className={styles.articlesCreateLinkText}>Create article</h3>\r\n          <DiffOutlined />\r\n        </Link>\r\n      </div>\r\n      <div className={styles.articlesWrap}>{renderArticles()}</div>\r\n      <div className={styles.pagination}>\r\n        <Pagination\r\n          defaultCurrent={1}\r\n          currentPage={currentPage}\r\n          total={articlesCount || 10}\r\n          pageSize={articlesCountOnPage}\r\n          showSizeChanger={false}\r\n          onChange={onChangeCurrentPage}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProp = (state) => ({\r\n  isLoadingArticles: state.reducerArticles.isLoadingArticles,\r\n  articles: state.reducerArticles.articles,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  token: state.reducerAuth.currentUser.token,\r\n  isFirstValidate: state.reducerAuth.currentUser.isFirstValidate,\r\n});\r\n\r\nexport default connect(mapStateToProp, { getAllArticles })(Home);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const ModalError = () => {\r\n  const errors = useSelector((state) => state.reducerErrors.errors);\r\n  if (errors) {\r\n    return (\r\n      <div className=\"errorModalWrap\">\r\n        <div className=\"errorModal\">\r\n          <h3>{errors}</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const ModalSuccess = () => {\r\n  return <div className=\"successModal\">Success!</div>;\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { Input } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { FormInput, FormArea } from '../../formFields/index';\r\nimport { createArticleApi } from '../../../api/articles/index';\r\nimport { ModalSuccess } from '../../modal/index';\r\n\r\nconst schema = yup.object().shape({\r\n  title: yup.string().required(),\r\n  description: yup.string().required(),\r\n  body: yup.string().required(),\r\n  tagList: yup.string(),\r\n});\r\n\r\nconst handleCreateArticle = async (values, token, setIsCreateArticle) => {\r\n  const data = {\r\n    article: {\r\n      ...values,\r\n      tagList: [...new Set(values.tagList.split(' '))],\r\n    },\r\n  };\r\n  try {\r\n    await createArticleApi(data, token);\r\n\r\n    setTimeout(() => {\r\n      setIsCreateArticle(false);\r\n    }, 1000);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst CreateArticle = ({ token }) => {\r\n  const [isCreateArticle, setIsCreateArticle] = useState(false);\r\n  const renderForm = (handleSubmit) => {\r\n    return (\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form\">\r\n          {isCreateArticle ? (\r\n            <ModalSuccess />\r\n          ) : (\r\n            <>\r\n              <h2 className=\"title\">Create article</h2>\r\n              <hr className=\"lineTitle\" />\r\n              <span>Title</span>\r\n              <FormInput name=\"title\" placeholder=\"enter title...\" />\r\n              <span>Description:</span>\r\n              <FormInput\r\n                name=\"description\"\r\n                placeholder=\"enter description...\"\r\n              />\r\n              <span>Body:</span>\r\n              <FormArea name=\"body\" placeholder=\"enter body...\" />\r\n              <span>Tags:</span>\r\n              <FormInput\r\n                name=\"tagList\"\r\n                placeholder=\"write tags with a space...\"\r\n              />\r\n              <Input\r\n                type=\"submit\"\r\n                value=\"Create\"\r\n                style={{ marginTop: '8px' }}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          description: '',\r\n          body: '',\r\n          tagList: '',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values, { resetForm }) => {\r\n          handleCreateArticle(values, token, setIsCreateArticle);\r\n          resetForm();\r\n          setIsCreateArticle(true);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return renderForm(handleSubmit);\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  token: state.reducerAuth.currentUser.token,\r\n});\r\nexport default connect(mapStateToProps)(CreateArticle);\r\n","import React, { useEffect } from 'react';\r\nimport styles from './ArticleInfo.module.css';\r\nimport { Avatar, Button } from 'antd';\r\nimport { LoadingOutlined, DeleteFilled, EditFilled } from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport { getFormatedDate } from '../../../utils';\r\nimport { getArticle } from '../../../redux/actions/articles';\r\nimport { Link } from 'react-router-dom';\r\nimport { deleteArticleApi } from '../../../api/articles';\r\n\r\nconst ArticleInfo = ({\r\n  token,\r\n  username,\r\n  isAuth,\r\n  isFirstValidate,\r\n  location,\r\n  article,\r\n  author,\r\n  getArticle,\r\n  isLoadingArticles,\r\n  history,\r\n}) => {\r\n  const { title, createdAt, updatedAt, description, body, tagList } = article;\r\n  useEffect(() => {\r\n    const path = location.pathname;\r\n    if (isFirstValidate) {\r\n      getArticle(path, token, isAuth);\r\n    }\r\n  }, [location, getArticle, token, isAuth, isFirstValidate]);\r\n\r\n  const handleDeleteArticle = () => {\r\n    const pathname = location.pathname;\r\n    deleteArticleApi(pathname, token);\r\n    history.goBack();\r\n  };\r\n\r\n  const renderArticle = () => {\r\n    return (\r\n      <div className={styles.article}>\r\n        <div className={styles.articleProfile}>\r\n          <Avatar src={author.image} size={120} />\r\n          <h1 className={styles.articleTitle}>\r\n            name: <span className={styles.textWrap}>{author.username}</span>\r\n          </h1>\r\n          <span className={styles.articleTitle}>\r\n            bio: <span className={styles.textWrap}>{author.bio}</span>\r\n          </span>\r\n        </div>\r\n        <div className={styles.articleContent}>\r\n          <h1 className={styles.articleTitle}>\r\n            title: <span className={styles.textWrap}>{title}</span>\r\n          </h1>\r\n          <h2 className={styles.articleSubtitle}>\r\n            description:{' '}\r\n            <span className={styles.articleText}>{description}</span>\r\n          </h2>\r\n          <span className={styles.articleDate}>\r\n            createdAt:{' '}\r\n            <span className={styles.articleText}>\r\n              {getFormatedDate(createdAt)}\r\n            </span>\r\n          </span>\r\n          <span className={styles.articleDate}>\r\n            updatedAt:{' '}\r\n            <span className={styles.articleText}>\r\n              {getFormatedDate(updatedAt)}\r\n            </span>\r\n          </span>\r\n          <span className={styles.articleBody}>\r\n            body: <span className={styles.articleText}>{body}</span>\r\n          </span>\r\n          <span className={styles.tagList}>\r\n            tags:{' '}\r\n            {tagList.map((tag) => (\r\n              <p key={tag} className={styles.tag}>\r\n                {tag}\r\n              </p>\r\n            ))}\r\n          </span>\r\n          <div className={styles.lineUpFooter} />\r\n          <div className={styles.footer}>\r\n            <div className={styles.btnsWrap}>\r\n              <Link\r\n                to={`${location.pathname}/edit`}\r\n                disabled={username !== author.username}\r\n                className=\"linkWithImgRigth\"\r\n              >\r\n                <span className=\"linkWithImageRigthText\">Edit</span>\r\n                <EditFilled />\r\n              </Link>\r\n              <Button\r\n                type=\"link\"\r\n                disabled={username !== author.username}\r\n                className={styles.btnDelete}\r\n                onClick={handleDeleteArticle}\r\n              >\r\n                <span>Delete</span>\r\n                <DeleteFilled />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoadingArticles ? (\r\n        <div className={styles.loaderWrap}>\r\n          <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n        </div>\r\n      ) : (\r\n        renderArticle()\r\n      )}\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  article: state.reducerArticles.article,\r\n  author: state.reducerArticles.article.author,\r\n  isLoadingArticles: state.reducerArticles.isLoadingArticles,\r\n  token: state.reducerAuth.currentUser.token,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  username: state.reducerAuth.currentUser.username,\r\n  isFirstValidate: state.reducerAuth.currentUser.isFirstValidate,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getArticle })(ArticleInfo);\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from '../../auth/Auth.module.css';\r\nimport { Formik } from 'formik';\r\nimport { Input } from 'formik-antd';\r\nimport * as yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { FormInput } from '../../formFields/index';\r\nimport { getArticle } from '../../../redux/actions/articles';\r\nimport { updateArticleApi } from '../../../api/articles';\r\nimport _ from 'lodash';\r\nimport { ModalSuccess } from '../../modal/index';\r\nimport {\r\n  useHistory,\r\n  useRouteMatch,\r\n} from 'react-router-dom';\r\n\r\nconst ComponentEditArticle = ({\r\n  isLoadingArticles,\r\n  article,\r\n  token,\r\n  isAuth,\r\n  getArticle,\r\n  isFirstValidate,\r\n}) => {\r\n  const { title, description, body, tagList } = article;\r\n  const [isEditSuccess, setIsEditSuccess] = useState(false);\r\n  const history = useHistory();\r\n  const match = useRouteMatch('/articles/:slug');\r\n  useEffect(() => {\r\n    if (isFirstValidate) {\r\n      let path = match.url;\r\n      getArticle(path, token, isAuth);\r\n    }\r\n  }, [token, isAuth, getArticle, isFirstValidate]);\r\n\r\n  const handleEditArticle = (values) => {\r\n    const valuesWithoutEmptyFields = _.omitBy(\r\n      values,\r\n      (value, key) => value === ''\r\n    );\r\n    const data = {\r\n      article: {\r\n        ...valuesWithoutEmptyFields,\r\n        tagList: [...new Set(values.tagList.split(' '))],\r\n      },\r\n    };\r\n    let path = window.location.pathname;\r\n    path = match.url;\r\n    updateArticleApi(path, token, data);\r\n    setTimeout(() => {\r\n      setIsEditSuccess(false);\r\n      history.goBack();\r\n    }, 1000);\r\n  };\r\n\r\n  const renderForm = (handleSubmit) => {\r\n    return (\r\n      <form onSubmit={handleSubmit} className={styles.formAuth}>\r\n        {isEditSuccess ? (\r\n          <ModalSuccess />\r\n        ) : (\r\n          <>\r\n            <h1 className={styles.title}>Edit article</h1>\r\n            <hr className={styles.lineBottomTitle} />\r\n            <label>title</label>\r\n            <FormInput name=\"title\" component=\"input\" placeholder={title} />\r\n            <label>description</label>\r\n            <FormInput\r\n              name=\"description\"\r\n              component=\"input\"\r\n              placeholder={description}\r\n            />\r\n            <label>body</label>\r\n            <FormInput name=\"body\" component=\"input\" placeholder={body} />\r\n            <label>tagList</label>\r\n            <FormInput name=\"tagList\" component=\"input\" placeholder={tagList} />\r\n            <div className={styles.btnsWrap}>\r\n              <Input type=\"submit\" value=\"Edit\" style={{ width: '100px' }} />\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const schema = yup.object().shape({\r\n    title: yup.string(),\r\n    description: yup.string(),\r\n    body: yup.string(),\r\n    tagList: yup.string(),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          description: '',\r\n          body: '',\r\n          tagList: '',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values) => {\r\n          handleEditArticle(values);\r\n          setIsEditSuccess(true);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return (\r\n            <>\r\n              {isLoadingArticles ? (\r\n                <div className={styles.loaderWrap}>\r\n                  <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n                </div>\r\n              ) : (\r\n                renderForm(handleSubmit)\r\n              )}\r\n            </>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoadingAuth: state.reducerAuth.currentUser.isLoadingAuth,\r\n  isFirstValidate: state.reducerAuth.currentUser.isFirstValidate,\r\n  token: state.reducerAuth.currentUser.token,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  isLoadingArticles: state.reducerArticles.isLoadingArticles,\r\n  article: state.reducerArticles.article,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getArticle })(ComponentEditArticle);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport routes from '../../../constants/routes.constants/index';\r\n\r\nconst PrivateRoute = ({ component: Component, isAuth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuth || localStorage.currentUser ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to={routes['sign-in']} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default connect((state) => ({\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n}))(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport routes from '../../../constants/routes.constants/index';\r\n\r\nconst AuthRoute = ({ component: Component, isAuth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuth ? <Redirect to={routes['home']} /> : <Component {...props} />\r\n    }\r\n  />\r\n);\r\n\r\nexport default connect((state) => ({\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n}))(AuthRoute);\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Header from './components/header';\r\nimport { connect } from 'react-redux';\r\nimport FormSignIn from './components/auth/signIn/index';\r\nimport FormSignUp from './components/auth/signUp/index';\r\nimport Home from './components/home';\r\nimport {\r\n  firstValidateUserRequest,\r\n  firstValidateUserSuccess,\r\n  firstValidateUserFailure,\r\n} from './redux/actions/auth';\r\nimport { getItemDB } from './utils';\r\nimport { ModalError } from './components/modal';\r\nimport CreateArticle from './components/articles/createArticle';\r\nimport ArticleInfo from './components/articles/article/index';\r\nimport ComponentEditArticle from './components/articles/edit/index';\r\nimport PrivateRoute from './components/routes/private/index';\r\nimport AuthRoute from './components/routes/auth/index';\r\nimport routes from './constants/routes.constants/index';\r\n\r\nconst App = ({ dispatch, token }) => {\r\n  //при монтировании проверяем вышел ли пользователь из профиля в прошлый раз\r\n  useEffect(() => {\r\n    dispatch(firstValidateUserRequest());\r\n    if (localStorage.currentUser) {\r\n      const currentUser = getItemDB('currentUser');\r\n      dispatch(\r\n        firstValidateUserSuccess({ currentUser, isFirstValidate: true })\r\n      );\r\n    } else {\r\n      dispatch(firstValidateUserFailure({ isFirstValidate: true }));\r\n    }\r\n  }, [dispatch, token]);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Header />\r\n      <div className=\"content\">\r\n        <Switch>\r\n          <Route path={routes['home']} exact component={Home} />\r\n          <AuthRoute path={routes['sign-in']} component={FormSignIn} />\r\n          <AuthRoute path={routes['sign-up']} component={FormSignUp} />\r\n          <PrivateRoute path={routes['add']} component={CreateArticle} />\r\n          <PrivateRoute\r\n            path={routes['article-edit']}\r\n            exact\r\n            component={ComponentEditArticle}\r\n          />\r\n          <Route path={routes['article-info']} exact component={ArticleInfo} />\r\n          <Redirect to={routes['home']} />\r\n        </Switch>\r\n      </div>\r\n      <ModalError />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  token: state.reducerAuth.currentUser.token,\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { handleActions } from 'redux-actions';\r\nimport {\r\n  signUpUserRequest,\r\n  signUpUserSuccess,\r\n  signUpUserFailure,\r\n  signInUserRequest,\r\n  signInUserSuccess,\r\n  signInUserFailure,\r\n  firstValidateUserRequest,\r\n  firstValidateUserSuccess,\r\n  firstValidateUserFailure,\r\n  logout,\r\n} from '../../actions/auth/index';\r\n\r\nconst initValues = {\r\n  currentUser: {\r\n    isAuth: false,\r\n    username: null,\r\n    token: null,\r\n    isLoadingAuth: false,\r\n    isFirstValidate: false,\r\n  },\r\n};\r\n\r\nexport const reducerAuth = handleActions(\r\n  {\r\n    // sign-up\r\n\r\n    [signUpUserRequest]: (state, { payload: { isLoadingAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n        },\r\n      };\r\n    },\r\n    [signUpUserSuccess]: (\r\n      state,\r\n      { payload: { currentUser, isFirstValidate } }\r\n    ) => {\r\n      const { isAuth, token, name, isLoadingAuth } = currentUser;\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n    [signUpUserFailure]: (state, { payload: { isLoadingAuth, isAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n          isAuth,\r\n        },\r\n      };\r\n    },\r\n\r\n    // sign-in\r\n\r\n    [signInUserRequest]: (state, { payload: { isLoadingAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n        },\r\n      };\r\n    },\r\n    [signInUserSuccess]: (\r\n      state,\r\n      { payload: { currentUser, isFirstValidate } }\r\n    ) => {\r\n      const { isAuth, token, name, isLoadingAuth } = currentUser;\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n    [signInUserFailure]: (state, { payload: { isLoadingAuth, isAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n          isAuth,\r\n        },\r\n      };\r\n    },\r\n\r\n    // log-out\r\n    [logout]: (state, { payload: { isAuth, isLoadingAuth, token, name, isFirstValidate } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n    [firstValidateUserRequest]: (state, { payload }) => {\r\n      return { ...state };\r\n    },\r\n    [firstValidateUserSuccess]: (\r\n      state,\r\n      { payload: { currentUser, isFirstValidate } }\r\n    ) => {\r\n      const { isAuth, token, name, isLoadingAuth } = currentUser;\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n    [firstValidateUserFailure]: (state, { payload: { isFirstValidate } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n  },\r\n  initValues\r\n);\r\n","import { handleActions } from 'redux-actions';\r\nimport { setErrorNetwork } from '../../actions/errors/index';\r\n\r\nconst initValues = {\r\n  errors: null,\r\n};\r\n\r\nexport const reducerErrors = handleActions(\r\n  {\r\n    [setErrorNetwork]: (state, { payload: { error } }) => {\r\n      return {\r\n        ...state,\r\n        errors: error.message,\r\n      };\r\n    },\r\n  },\r\n  initValues\r\n);\r\n","import { handleActions } from 'redux-actions';\r\nimport {\r\n  getArticlesAllRequest,\r\n  getArticlesAllSuccess,\r\n  getArticlesAllFailure,\r\n  articleLikeRequest,\r\n  articleLikeSuccess,\r\n  articleLikeFailure,\r\n  articleDislikeRequest,\r\n  articleDislikeSuccess,\r\n  articleDislikeFailure,\r\n  articleRequest,\r\n  articleSuccess,\r\n  articleFailure,\r\n} from '../../actions/articles/index';\r\n\r\nconst initValues = {\r\n  articles: [],\r\n  isLoadingArticles: false,\r\n  article: {\r\n    title: '',\r\n    createdAt: '',\r\n    updatedAt: '',\r\n    description: '',\r\n    body: '',\r\n    tagList: [],\r\n    favorited: false,\r\n    favoritesCount: '',\r\n    author: {\r\n      username: '',\r\n      bio: '',\r\n      image: '',\r\n    },\r\n  },\r\n};\r\n\r\nexport const reducerArticles = handleActions(\r\n  {\r\n    // get all articles\r\n    [getArticlesAllRequest]: (state, { payload: { isLoadingArticles } }) => ({\r\n      ...state,\r\n      isLoadingArticles,\r\n    }),\r\n    [getArticlesAllSuccess]: (\r\n      state,\r\n      { payload: { isLoadingArticles, articles } }\r\n    ) => ({\r\n      ...state,\r\n      isLoadingArticles,\r\n      articles,\r\n    }),\r\n    [getArticlesAllFailure]: (state, { payload: { isLoadingArticles } }) => ({\r\n      ...state,\r\n      isLoadingArticles,\r\n    }),\r\n    // like article\r\n    [articleLikeRequest]: (state, { payload }) => ({ ...state }),\r\n    [articleLikeSuccess]: (state, { payload: { newArticle, slug } }) => {\r\n      const newArticles = state.articles.map((article) => {\r\n        if (article.slug === slug) {\r\n          return { id: article.id, ...newArticle };\r\n        }\r\n        return article;\r\n      });\r\n      return {\r\n        ...state,\r\n        articles: [...newArticles],\r\n      };\r\n    },\r\n    [articleLikeFailure]: (state, { payload }) => ({ ...state }),\r\n    //dislike article\r\n    [articleDislikeRequest]: (state, { payload }) => ({ ...state }),\r\n    [articleDislikeSuccess]: (state, { payload: { newArticle, slug } }) => {\r\n      const newArticles = state.articles.map((article) => {\r\n        if (article.slug === slug) {\r\n          return { id: article.id, ...newArticle };\r\n        }\r\n        return article;\r\n      });\r\n      return {\r\n        ...state,\r\n        articles: [...newArticles],\r\n      };\r\n    },\r\n    [articleDislikeFailure]: (state, { payload }) => ({ ...state }),\r\n\r\n    // get article\r\n    [articleRequest]: (state, { payload: { isLoadingArticles } }) => {\r\n      return { ...state, isLoadingArticles };\r\n    },\r\n    [articleSuccess]: (state, { payload: { isLoadingArticles, article } }) => {\r\n      return {\r\n        ...state,\r\n        isLoadingArticles,\r\n        article\r\n      };\r\n    },\r\n    [articleFailure]: (state, { payload: { isLoadingArticles } }) => {\r\n      return { ...state, isLoadingArticles };\r\n    },\r\n  },\r\n\r\n  initValues\r\n);\r\n","import { combineReducers } from 'redux';\r\nimport { reducerAuth } from '../auth/index';\r\nimport { reducerErrors } from '../errors/index';\r\nimport { reducerArticles } from '../articles/index';\r\n\r\nexport const rootReducer = combineReducers({\r\n  reducerAuth,\r\n  reducerErrors,\r\n  reducerArticles,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from '../reducers/root/index';\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport App from './App.jsx';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store/index';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articleLinkWrap\":\"Article_articleLinkWrap__2_I1y\",\"article\":\"Article_article__3xUIu\",\"date\":\"Article_date__2AFnp\",\"title\":\"Article_title__30J-0\",\"titleLink\":\"Article_titleLink__2nVax\",\"autorWrap\":\"Article_autorWrap__JuHLG\",\"author\":\"Article_author__q-TJr\",\"likes\":\"Article_likes__17Ac7\",\"tags\":\"Article_tags__3Zo83\",\"tag\":\"Article_tag__15Y32\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__TW--p\",\"articlesWrap\":\"Home_articlesWrap__1eYM4\",\"articlesCreateLink\":\"Home_articlesCreateLink__28exH\",\"articlesCreateLinkText\":\"Home_articlesCreateLinkText__wJfmo\",\"loaderWrap\":\"Home_loaderWrap__24y6Y\",\"pagination\":\"Home_pagination__3S31Y\"};"],"sourceRoot":""}