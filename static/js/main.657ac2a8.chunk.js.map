{"version":3,"sources":["components/header/Header.module.css","components/auth/Auth.module.css","api/auth/index.js","redux/actions/errors/index.js","utils/index.js","redux/actions/auth/index.js","components/header/index.jsx","components/formFields/index.jsx","components/auth/signIn/index.jsx","components/auth/signUp/index.jsx","api/articles/index.js","redux/actions/articles/index.js","components/articles/item/index.jsx","components/home/index.jsx","components/modal/index.jsx","components/articles/createArticle/index.jsx","components/articles/article/index.jsx","components/articles/edit/index.jsx","components/routes/private/index.jsx","components/routes/auth/index.jsx","App.jsx","redux/reducers/auth/index.js","redux/reducers/errors/index.js","redux/reducers/articles/index.js","redux/reducers/root/index.js","redux/store/index.js","index.js","components/articles/item/Article.module.css","components/home/Home.module.css","components/articles/article/ArticleInfo.module.css"],"names":["module","exports","URL","optionsAuth","method","headers","json","fetchSignUp","data","a","axios","JSON","stringify","url","response","fetchSignIn","setErrorNetwork","createAction","setItemDB","nameItem","valueItem","localStorage","setItem","DiffTime","timeNow","timeCreatedAt","this","differenceInDays","diffHours","differenceInHours","diffMinutes","differenceInMinutes","getFormatedDate","date","diffTime","Date","parseISO","diffDay","getDay","getHours","getMinutes","validateTimeEmpty","diffItem","errorsSignInProcessing","error","setFieldError","dispatch","message","errors","errorsSignUpProcessing","responseErrors","key","toString","signUpUserRequest","signUpUserSuccess","signUpUserFailure","signInUserRequest","signInUserSuccess","signInUserFailure","logout","firstValidateUserRequest","firstValidateUserSuccess","firstValidateUserFailure","connect","state","username","reducerAuth","currentUser","isAuth","handleLogout","removeItem","isLoadingAuth","name","token","className","styles","header","orientation","style","minWidth","info","nameUser","ExportOutlined","fontSize","onClick","to","linkUser","linkUserText","HomeOutlined","renderError","msg","color","FormArea","props","TextArea","FormInput","signInAuth","email","password","user","isFirstValidate","schema","yup","shape","required","initialValues","validationSchema","onSubmit","values","handleSubmit","loaderWrap","LoadingOutlined","spin","formAuth","title","lineBottomTitle","component","placeholder","type","btnsWrap","value","width","UserAddOutlined","renderForm","signUpAuth","max","matches","optionsWithoutToken","headersWithToken","Authorization","fetchGetAllArticlesWithoutToken","currentPage","fetchGetAllArticlesWithToken","fetchGetArticle","slug","fetchCreateArticle","fetchSetLikeArticle","fetchSetDislikeArticle","fetchGetArticlePathNameWithToken","pathname","fetchGetArticlePathName","fetchUpdateArticle","path","fetchDeleteArticle","getArticlesAllRequest","getArticlesAllSuccess","getArticlesAllFailure","articleLikeRequest","articleLikeSuccess","articleLikeFailure","articleDislikeRequest","articleDislikeSuccess","articleDislikeFailure","articleRequest","articleSuccess","articleFailure","getArticle","isLoadingArticles","articleResponse","article","setLikeArticle","isLike","isLoadingLike","responseArticle","newArticle","author","createdAt","tagList","favoritesCount","favorited","useState","isLikeLocal","setIsLikeLocal","isLikeCountLocal","setIsLikeCountLocal","handleLikeArticle","event","preventDefault","res","count","console","log","contenPopover","articleLinkWrap","contentWrap","autorWrap","tags","map","tag","trigger","content","likes","HeartFilled","HeartOutlined","reducerArticles","articles","getAllArticles","responseArticles","undefined","articlesWithId","item","index","id","articlesCount","setArticlesCount","setCurrentPage","articlesCountOnPage","useEffect","getArticles","home","articlesHeader","articlesTitle","articlesCreateLink","articlesCreateLinkText","DiffOutlined","articlesWrap","pagination","defaultCurrent","total","pageSize","showSizeChanger","onChange","page","ModalError","ModalSuccess","description","body","handleCreateArticle","setIsCreateArticle","Set","split","setTimeout","isCreateArticle","resetForm","marginTop","location","history","updatedAt","handleDeleteArticle","goBack","articleProfile","src","image","size","articleTitle","textWrap","bio","articleContent","articleSubtitle","articleText","articleDate","articleBody","lineUpFooter","footer","disabled","EditFilled","btnDelete","DeleteFilled","isEditSuccess","setIsEditSuccess","window","substr","length","valuesWithoutEmptyFields","_","omitBy","back","handleEditArticle","Component","rest","render","reducerErrors","parse","exact","Home","FormSignIn","FormSignUp","CreateArticle","ComponentEditArticle","ArticleInfo","handleActions","payload","newArticles","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.657ac2a8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3LSIY\",\"info\":\"Header_info__1cRUH\",\"nameUser\":\"Header_nameUser__6XyPG\",\"linkUser\":\"Header_linkUser__1zl_M\",\"linkUserText\":\"Header_linkUserText__X7zRj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formAuth\":\"Auth_formAuth__2tuew\",\"title\":\"Auth_title__26x_r\",\"btnsWrap\":\"Auth_btnsWrap__2KI2g\",\"successModal\":\"Auth_successModal__3QZVr\"};","import axios from 'axios';\r\n\r\nconst URL = 'https://conduit.productionready.io/api';\r\n\r\nconst optionsAuth = {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n  },\r\n  json: true,\r\n};\r\n\r\nexport const fetchSignUp = async (data) => {\r\n  const response = await axios({\r\n    ...optionsAuth,\r\n    data: JSON.stringify(data),\r\n    url: `${URL}/users`,\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchSignIn = async (data) => {\r\n  const response = await axios({\r\n    ...optionsAuth,\r\n    data: JSON.stringify(data),\r\n    url: `${URL}/users/login`,\r\n  });\r\n  return response;\r\n};\r\n","import { createAction } from 'redux-actions';\r\n\r\nexport const setErrorNetwork = createAction('ERROR_NETWORK');\r\n","import {\r\n  differenceInMinutes,\r\n  differenceInHours,\r\n  differenceInDays,\r\n  parseISO,\r\n} from 'date-fns';\r\nimport {\r\n  setErrorNetwork,\r\n} from '../redux/actions/errors';\r\n\r\n// local database\r\n\r\nexport const setItemDB = (nameItem, valueItem) =>\r\n  localStorage.setItem(nameItem, JSON.stringify(valueItem));\r\nexport const removeItemDB = (nameItem) => localStorage.removeItem(nameItem);\r\n\r\nexport const getItemDB = (valueItem) => JSON.parse(localStorage[valueItem]);\r\n\r\n// date\r\n\r\nexport default class DiffTime {\r\n  constructor(timeNow, timeCreatedAt) {\r\n    this.timeNow = timeNow;\r\n    this.timeCreatedAt = timeCreatedAt;\r\n  }\r\n\r\n  getDay() {\r\n    return differenceInDays(this.timeNow, this.timeCreatedAt);\r\n  }\r\n\r\n  getHours() {\r\n    let diffHours = differenceInHours(this.timeNow, this.timeCreatedAt);\r\n    diffHours %= 24;\r\n    return diffHours;\r\n  }\r\n\r\n  getMinutes() {\r\n    let diffMinutes = differenceInMinutes(this.timeNow, this.timeCreatedAt);\r\n    diffMinutes %= 60;\r\n    return diffMinutes;\r\n  }\r\n}\r\n\r\nexport const getFormatedDate = (date) => {\r\n  const diffTime = new DiffTime(new Date(), parseISO(date));\r\n  const diffDay = diffTime.getDay();\r\n  const diffHours = diffTime.getHours();\r\n  const diffMinutes = diffTime.getMinutes();\r\n\r\n  const validateTimeEmpty = (diffItem, nameItem) =>\r\n    diffItem !== 0 ? `${diffItem} ${nameItem}` : '';\r\n\r\n  const renderTimeAfterCreation = () => {\r\n    if (diffDay === 0 && diffHours === 0 && diffMinutes === 0) return 'now';\r\n    return `${validateTimeEmpty(diffDay, 'days')} ${validateTimeEmpty(\r\n      diffHours,\r\n      'hours'\r\n    )} ${validateTimeEmpty(diffMinutes, 'minutes')} ago`;\r\n  };\r\n\r\n  return renderTimeAfterCreation();\r\n};\r\n\r\n// errors auth\r\n\r\nexport const errorsSignInProcessing = (error, setFieldError, dispatch) => {\r\n  if (error.message === 'Network Error') {\r\n    dispatch(setErrorNetwork({ error }));\r\n  }\r\n  const responseErrors = error.response.data.errors;\r\n\r\n  if (responseErrors['email or password']) {\r\n    setFieldError('email', 'email or password is invalid');\r\n    setFieldError('password', 'email or password is invalid');\r\n  }\r\n};\r\n\r\nexport const errorsSignUpProcessing = (error, setFieldError, dispatch) => {\r\n  if (error.message === 'Network Error') {\r\n    dispatch(setErrorNetwork({ error }));\r\n  }\r\n\r\n  const responseErrors = error.response.data.errors;\r\n  for (const key in responseErrors) {\r\n    setFieldError(key.toString(), responseErrors[key][0]);\r\n  }\r\n};\r\n","import { createAction } from 'redux-actions';\r\nimport { fetchSignIn, fetchSignUp } from '../../../api/auth/index';\r\nimport {\r\n  setItemDB,\r\n  errorsSignInProcessing,\r\n  errorsSignUpProcessing,\r\n} from '../../../utils/index';\r\n\r\nexport const signUpUserRequest = createAction('USER_SIGNUP_REQUEST');\r\nexport const signUpUserSuccess = createAction('USER_SIGNUP_SUCCESS');\r\nexport const signUpUserFailure = createAction('USER_SIGNUP_FAILURE');\r\n\r\n// sign-up\r\n\r\nexport const signUpAuth = ({\r\n  username,\r\n  email,\r\n  password,\r\n  setFieldError,\r\n}) => async (dispatch) => {\r\n  dispatch(signUpUserRequest({ isLoadingAuth: true }));\r\n  try {\r\n    const data = {\r\n      user: { email, password, username },\r\n    };\r\n    const response = await fetchSignUp(data);\r\n    const token = await response.data.user.token;\r\n    const name = await response.data.user.username;\r\n\r\n    const currentUser = {\r\n      isAuth: true,\r\n      name: name,\r\n      token: token,\r\n      isLoadingAuth: false,\r\n    };\r\n    setItemDB('currentUser', currentUser);\r\n\r\n    await dispatch(\r\n      signUpUserSuccess({\r\n        isAuth: true,\r\n        isLoadingAuth: false,\r\n        token,\r\n        name,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    errorsSignUpProcessing(error, setFieldError, dispatch);\r\n    dispatch(\r\n      signUpUserFailure({\r\n        isAuth: false,\r\n        isLoadingAuth: false,\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\n// sign-in\r\n\r\nexport const signInUserRequest = createAction('USER_SIGNIN_REQUEST');\r\nexport const signInUserSuccess = createAction('USER_SIGNIN_SUCCESS');\r\nexport const signInUserFailure = createAction('USER_SIGNIN_FAILURE');\r\n\r\nexport const signInAuth = ({\r\n  username,\r\n  email,\r\n  password,\r\n  setFieldError,\r\n}) => async (dispatch) => {\r\n  dispatch(signInUserRequest({ isLoadingAuth: true }));\r\n  try {\r\n    const data = {\r\n      user: { email, password, username },\r\n    };\r\n    const response = await fetchSignIn(data);\r\n    const token = await response.data.user.token;\r\n    const name = await response.data.user.username;\r\n\r\n    const currentUser = {\r\n      isAuth: true,\r\n      name: name,\r\n      token: token,\r\n      isLoadingAuth: false,\r\n    };\r\n    setItemDB('currentUser', currentUser);\r\n\r\n    await dispatch(\r\n      signInUserSuccess({\r\n        currentUser,\r\n        isFirstValidate: true,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    errorsSignInProcessing(error, setFieldError, dispatch);\r\n    dispatch(\r\n      signInUserFailure({\r\n        isAuth: false,\r\n        isLoadingAuth: false,\r\n      })\r\n    );\r\n  }\r\n};\r\n\r\n// log-out\r\n\r\nexport const logout = createAction('LOG_OUT_PROFILE');\r\n\r\n// first validate user\r\n\r\nexport const firstValidateUserRequest = createAction(\r\n  'USER_FIRST_VALIDATE_REQUEST'\r\n);\r\nexport const firstValidateUserSuccess = createAction(\r\n  'USER_FIRST_VALIDATE_SUCCESS'\r\n);\r\nexport const firstValidateUserFailure = createAction(\r\n  'USER_FIRST_VALIDATE_FAILURE'\r\n);\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport { Divider } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { ExportOutlined, HomeOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout } from '../../redux/actions/auth/index';\r\nimport { removeItemDB } from '../../utils/index';\r\n\r\nconst Header = ({ isAuth, dispatch, username }) => {\r\n  const handleLogout = () => {\r\n    removeItemDB('currentUser');\r\n    dispatch(\r\n      logout({\r\n        isAuth: false,\r\n        isLoadingAuth: false,\r\n        name: null,\r\n        token: null,\r\n      })\r\n    );\r\n  };\r\n\r\n  const renderInfoUser = () => {\r\n    if (isAuth || localStorage.currentUser) {\r\n      return (\r\n        <>\r\n          <h3 className={styles.nameUser}>{username}</h3>\r\n          <ExportOutlined style={{ fontSize: '24px' }} onClick={handleLogout} />\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <Link to=\"/sign-in\" className={styles.linkUser}>\r\n          <span className={styles.linkUserText}>Sign in</span>\r\n          <HomeOutlined />\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.header}>\r\n      <Divider orientation=\"left\" style={{ minWidth: '0' }}>\r\n        Blog\r\n      </Divider>\r\n      <div className={styles.info}>{renderInfoUser()}</div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  username: state.reducerAuth.currentUser.username,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from 'react';\r\nimport { ErrorMessage } from 'formik';\r\nimport { Input } from 'formik-antd';\r\n\r\nconst renderError = (msg) => <span style={{ color: 'red' }}>{msg}</span>;\r\n\r\nexport const FormArea = ({ name, ...props }) => (\r\n  <div>\r\n    <Input.TextArea name={name} {...props} />\r\n    <ErrorMessage name={name}>{(msg) => renderError(msg)}</ErrorMessage>\r\n  </div>\r\n);\r\n\r\nexport const FormInput = ({ name, ...props }) => (\r\n  <div>\r\n    <Input name={name} {...props} />\r\n    <ErrorMessage name={name}>{(msg) => renderError(msg)}</ErrorMessage>\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport styles from '../Auth.module.css';\r\nimport { Formik } from 'formik';\r\nimport { Input } from 'formik-antd';\r\nimport * as yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserAddOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { FormInput } from '../../formFields/index';\r\nimport { signInAuth } from '../../../redux/actions/auth';\r\n\r\nconst FormSignIn = (props) => {\r\n  const renderForm = (handleSubmit) => {\r\n    if (props.isLoadingAuth) {\r\n      return (\r\n        <div className={styles.loaderWrap}>\r\n          <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <form onSubmit={handleSubmit} className={styles.formAuth}>\r\n          <h1 className={styles.title}>Login</h1>\r\n          <hr className={styles.lineBottomTitle} />\r\n          <label>Email</label>\r\n          <FormInput\r\n            name=\"email\"\r\n            component=\"input\"\r\n            placeholder=\"enter email...\"\r\n          />\r\n          <label>Password</label>\r\n          <FormInput\r\n            name=\"password\"\r\n            type=\"password\"\r\n            component=\"input\"\r\n            placeholder=\"enter password...\"\r\n          />\r\n          <div className={styles.btnsWrap}>\r\n            <Input type=\"submit\" value=\"Sign in\" style={{ width: '100px' }} />\r\n            <Link to=\"/sign-up\" className=\"linkWithImageRigth\">\r\n              <span className='linkWithImageRigthText'>Registration</span>\r\n              <UserAddOutlined />\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      );\r\n    }\r\n  };\r\n\r\n  const schema = yup.object().shape({\r\n    email: yup.string().email('Not correct email').required('Enter email'),\r\n    password: yup.string().required('Enter password'),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          email: 'toniktoo@gmail.com',\r\n          password: 'Swimm1998er',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values, { setFieldError }) => {\r\n          const { email, password } = values;\r\n          props.signInAuth({ email, password, setFieldError });\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return renderForm(handleSubmit);\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoadingAuth: state.reducerAuth.currentUser.isLoadingAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { signInAuth })(FormSignIn);\r\n","import React from 'react';\r\nimport styles from '../Auth.module.css';\r\nimport { Formik } from 'formik';\r\nimport { Input } from 'formik-antd';\r\nimport * as yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserAddOutlined,LoadingOutlined  } from '@ant-design/icons';\r\nimport { FormInput } from '../../formFields/index';\r\nimport { signUpAuth } from '../../../redux/actions/auth';\r\n\r\nconst FormSignUp = (props) => {\r\n  const renderForm = (handleSubmit) => {\r\n    if (props.isLoadingAuth) {\r\n      return (\r\n        <div className={styles.loaderWrap}>\r\n          <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <form onSubmit={handleSubmit} className={styles.formAuth}>\r\n          <h1 className={styles.title}>Registration</h1>\r\n          <hr className={styles.lineBottomTitle} />\r\n          <label>Username</label>\r\n          <FormInput\r\n            name=\"username\"\r\n            component=\"input\"\r\n            placeholder=\"enter username...\"\r\n          />\r\n          <label>Email</label>\r\n          <FormInput\r\n            name=\"email\"\r\n            component=\"input\"\r\n            placeholder=\"enter email...\"\r\n          />\r\n          <label>Password</label>\r\n          <FormInput\r\n            name=\"password\"\r\n            type=\"password\"\r\n            component=\"input\"\r\n            placeholder=\"enter password...\"\r\n          />\r\n          <div className={styles.btnsWrap}>\r\n            <Input type=\"submit\" value=\"Sign in\" style={{ width: '100px' }} />\r\n            <Link to=\"/sign-in\" className=\"linkWithImageRigth\">\r\n              <span className=\"linkWithImageRigthText\">Login</span>\r\n              <UserAddOutlined />\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      );\r\n    }\r\n  };\r\n\r\n  const schema = yup.object().shape({\r\n    username: yup\r\n      .string()\r\n      .max(50, 'no more than 50 characters')\r\n      .required('Заполните имя'),\r\n    email: yup.string().email('Not correct email').required('Enter email'),\r\n    password: yup\r\n      .string()\r\n      .required('Enter password')\r\n      .matches(\r\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/,\r\n        'Password between 8 and 40 characters, at least one number and one capital letter'\r\n      ),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          email: 'toniktoo@mail.ru',\r\n          password: 'Swimm1998er',\r\n          username: 'toniktoo',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values, { setFieldError }) => {\r\n          const { email, password, username } = values;\r\n          props.signUpAuth({ email, password, username, setFieldError });\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return renderForm(handleSubmit);\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoadingAuth: state.reducerAuth.currentUser.isLoadingAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { signUpAuth })(FormSignUp);\r\n","import axios from 'axios';\r\n\r\nconst URL = 'https://conduit.productionready.io/api';\r\n\r\nconst optionsWithoutToken = {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n  },\r\n};\r\n\r\nconst headersWithToken = (token) => ({\r\n  'Content-Type': 'application/json;charset=utf-8',\r\n  Authorization: `Token ${token}`,\r\n});\r\n\r\nexport const fetchGetAllArticlesWithoutToken = async (currentPage) => {\r\n  const response = await axios({\r\n    ...optionsWithoutToken,\r\n    method: 'GET',\r\n    url: `${URL}/articles?limit=10&offset=${(currentPage - 1) * 10}`,\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchGetAllArticlesWithToken = async (token, currentPage) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}/articles?limit=10&offset=${(currentPage - 1) * 10}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchGetArticle = async (slug, token) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}/articles/${slug}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchGetArticle2 = async (path, token) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}/${path}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchCreateArticle = async (data, token) => {\r\n  const response = await axios({\r\n    method: 'POST',\r\n    url: `${URL}/articles`,\r\n    headers: headersWithToken(token),\r\n    data: JSON.stringify(data),\r\n  });\r\n  return response;\r\n};\r\n\r\n// like and dislike\r\nexport const fetchSetLikeArticle = async (slug, token) => {\r\n  const response = await axios({\r\n    method: 'POST',\r\n    url: `${URL}/articles/${slug}/favorite`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchSetDislikeArticle = async (slug, token) => {\r\n  const response = await axios({\r\n    method: 'DELETE',\r\n    url: `${URL}/articles/${slug}/favorite`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\n// get one article with pathname\r\n\r\nexport const fetchGetArticlePathNameWithToken = async (pathname, token) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}${pathname}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\nexport const fetchGetArticlePathName = async (pathname) => {\r\n  const response = await axios({\r\n    method: 'GET',\r\n    url: `${URL}${pathname}`,\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n    },\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchUpdateArticle = async (path, token, data) => {\r\n  const response = await axios({\r\n    method: 'PUT',\r\n    url: `${URL}${path}`,\r\n    data: JSON.stringify(data),\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const fetchDeleteArticle = async (pathname, token) => {\r\n  const response = await axios({\r\n    method: 'DELETE',\r\n    url: `${URL}${pathname}`,\r\n    headers: headersWithToken(token),\r\n  });\r\n  return response;\r\n};\r\n","import { createAction } from 'redux-actions';\r\nimport {\r\n  fetchGetAllArticlesWithToken,\r\n  fetchGetAllArticlesWithoutToken,\r\n  fetchSetLikeArticle,\r\n  fetchSetDislikeArticle,\r\n  fetchGetArticlePathNameWithToken,\r\n  fetchGetArticlePathName,\r\n} from '../../../api/articles/index';\r\nimport { setErrorNetwork } from '../errors';\r\n\r\nexport const getArticlesAllRequest = createAction('GET_ARTICLES_ALL_REQUEST');\r\nexport const getArticlesAllSuccess = createAction('GET_ARTICLES_ALL_SUCCESS');\r\nexport const getArticlesAllFailure = createAction('GET_ARTICLES_ALL_FAILURE');\r\n\r\nexport const getAllArticles = (isAuth, token, currentPage) => async (\r\n  dispatch\r\n) => {\r\n  await dispatch(getArticlesAllRequest({ isLoadingArticles: true }));\r\n  let responseArticles = undefined;\r\n  try {\r\n    if (isAuth) {\r\n      responseArticles = await fetchGetAllArticlesWithToken(token, currentPage);\r\n    } else {\r\n      responseArticles = await fetchGetAllArticlesWithoutToken(currentPage);\r\n    }\r\n\r\n    const articlesWithId = responseArticles.data.articles.map(\r\n      (item, index) => ({\r\n        id: index,\r\n        ...item,\r\n      })\r\n    );\r\n    await dispatch(\r\n      getArticlesAllSuccess({\r\n        isLoadingArticles: false,\r\n        articles: articlesWithId,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n    if (error.message === 'Network Error') {\r\n      dispatch(setErrorNetwork({ error }));\r\n    }\r\n    await dispatch(getArticlesAllFailure({ isLoadingArticles: false }));\r\n  }\r\n\r\n  return responseArticles.data.articlesCount;\r\n};\r\n\r\n// create article\r\n\r\n// export const articleCreateRequest = createAction('ARTICLE_CREATE_REQUEST');\r\n// export const articleCreateSuccess = createAction('ARTICLE_CREATE_SUCCESS');\r\n// export const articleCreateFailure = createAction('ARTICLE_CREATE_FAILURE');\r\n\r\n// export const handleCreateArticle = (values, token) => async (dispatch) => {\r\n//   await dispatch(articleCreateRequest());\r\n//   try {\r\n//     const valuesNewArticle = {\r\n//       ...values,\r\n//       tagList: [...values]\r\n//     };\r\n//     console.log(values)\r\n//     await fetchCreateArticle(values, token);\r\n//     await dispatch(articleCreateSuccess());\r\n//   } catch (error) {\r\n//     if (error.message === 'Network Error') {\r\n//       dispatch(setErrorNetwork({ error }));\r\n//     }\r\n//     await dispatch(articleCreateFailure());\r\n//   }\r\n// };\r\n\r\n//like and dislike\r\n\r\nexport const articleLikeRequest = createAction('ARTICLE_LIKE_REQUEST');\r\nexport const articleLikeSuccess = createAction('ARTICLE_LIKE_SUCCESS');\r\nexport const articleLikeFailure = createAction('ARTICLE_LIKE_FAILURE');\r\n\r\nexport const articleDislikeRequest = createAction('ARTICLE_DISLIKE_REQUEST');\r\nexport const articleDislikeSuccess = createAction('ARTICLE_DISLIKE_SUCCESS');\r\nexport const articleDislikeFailure = createAction('ARTICLE_DISLIKE_FAILURE');\r\n\r\nexport const setLikeArticle = (isLike, slug, token) => async (dispatch) => {\r\n  if (isLike) {\r\n    //если лайк поставлен- то его нужно убрать\r\n    await dispatch(articleDislikeRequest({ isLoadingLike: true }));\r\n    try {\r\n      const responseArticle = await fetchSetDislikeArticle(slug, token);\r\n      const newArticle = responseArticle.data.article;\r\n      await dispatch(\r\n        articleDislikeSuccess({ newArticle, slug, isLoadingLike: false })\r\n      );\r\n    } catch (error) {\r\n      if (error.message === 'Network Error') {\r\n        dispatch(setErrorNetwork({ error }));\r\n      }\r\n      await dispatch(articleDislikeFailure({ isLoadingLike: false }));\r\n    }\r\n  } else {\r\n    //усли лайка нет - то его нужно поставить\r\n    await dispatch(articleLikeRequest());\r\n    try {\r\n      const responseArticle = await fetchSetLikeArticle(slug, token);\r\n      const newArticle = responseArticle.data.article;\r\n      await dispatch(articleLikeSuccess({ newArticle, slug }));\r\n    } catch (error) {\r\n      if (error.message === 'Network Error') {\r\n        dispatch(setErrorNetwork({ error }));\r\n      }\r\n      await dispatch(articleLikeFailure());\r\n    }\r\n  }\r\n};\r\n\r\n// get one article\r\n\r\nexport const articleRequest = createAction('ARTICLE_REQUEST');\r\nexport const articleSuccess = createAction('ARTICLE_SUCCESS');\r\nexport const articleFailure = createAction('ARTICLE_FAILURE');\r\n\r\nexport const getArticle = (path, token, isAuth) => async (dispatch) => {\r\n  await dispatch(articleRequest({ isLoadingArticles: true }));\r\n  try {\r\n    let articleResponse = null;\r\n    if (isAuth) {\r\n      articleResponse = await fetchGetArticlePathNameWithToken(path, token);\r\n    } else {\r\n      articleResponse = await fetchGetArticlePathName(path);\r\n    }\r\n    const article = articleResponse.data.article;\r\n    await dispatch(articleSuccess({ isLoadingArticles: false, article }));\r\n  } catch (error) {\r\n    await dispatch(articleFailure({ isLoadingArticles: false }));\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Popover } from 'antd';\r\nimport { HeartOutlined, HeartFilled } from '@ant-design/icons';\r\nimport { getFormatedDate } from '../../../utils/index';\r\nimport styles from './Article.module.css';\r\nimport { fetchGetArticle } from '../../../api/articles/index';\r\nimport { setLikeArticle } from '../../../redux/actions/articles/index';\r\n\r\nconst ArticleItem = ({\r\n  title,\r\n  author,\r\n  createdAt,\r\n  tagList,\r\n  favoritesCount,\r\n  slug,\r\n  favorited,\r\n  setLikeArticle,\r\n  token,\r\n  isAuth,\r\n}) => {\r\n  const [isLikeLocal, setIsLikeLocal] = useState(favorited);\r\n  const [isLikeCountLocal, setIsLikeCountLocal] = useState(favoritesCount);\r\n\r\n  const handleLikeArticle = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const res = await fetchGetArticle(slug, token);\r\n      const isLike = res.data.article.favorited;\r\n      setLikeArticle(isLike, slug, token);\r\n      //чтобы не ждать ответа с сервера , сразу меняем ui\r\n      setIsLikeLocal(!favorited);\r\n      if (favorited) {\r\n        setIsLikeCountLocal((count) => count - 1);\r\n      } else {\r\n        setIsLikeCountLocal((count) => count + 1);\r\n      }\r\n    } catch (error) {\r\n      console.log(`error component article ${error}`);\r\n    }\r\n  };\r\n  const contenPopover = (\r\n    <div style={{ width: '200px' }}>\r\n      <p>\r\n        {isAuth\r\n          ? 'like or dislike this article'\r\n          : 'sign in to like this article'}\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Link to={`/articles/${slug}`} className={styles.articleLinkWrap}>\r\n      <div className={styles.article}>\r\n        <div className={styles.contentWrap}>\r\n          <span className={styles.date}>{getFormatedDate(createdAt)}</span>\r\n          <h3 className={styles.title}>{title}</h3>\r\n          <div className={styles.autorWrap}>\r\n            Autor\r\n            <span className={styles.author}>{author.username}</span>\r\n          </div>\r\n          <div>\r\n            <div className={styles.tags}>\r\n              Tags:\r\n              {tagList.map((tag) => (\r\n                <p key={tag} className={styles.tag}>\r\n                  {tag}\r\n                </p>\r\n              ))}\r\n            </div>\r\n            <Popover\r\n              title=\"Note\"\r\n              trigger=\"hover\"\r\n              content={contenPopover}\r\n              className={styles.likes}\r\n              onClick={handleLikeArticle}\r\n            >\r\n              {isLikeLocal ? <HeartFilled /> : <HeartOutlined />}\r\n              {` ${isLikeCountLocal}`}\r\n            </Popover>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default connect(null, { setLikeArticle })(ArticleItem);\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Home.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { DiffOutlined, LoadingOutlined } from '@ant-design/icons';\r\nimport { Pagination } from 'antd';\r\nimport ArticleItem from '../articles/item/index';\r\nimport { getAllArticles } from '../../redux/actions/articles/index';\r\n\r\nconst Home = ({\r\n  isLoadingArticles,\r\n  articles,\r\n  getAllArticles,\r\n  isAuth,\r\n  token,\r\n  isFirstValidate,\r\n}) => {\r\n  const [articlesCount, setArticlesCount] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [articlesCountOnPage] = useState(10);\r\n\r\n  const onChangeCurrentPage = (page) => setCurrentPage(page);\r\n  useEffect(() => {\r\n    const getArticles = async () => {\r\n      const articlesCount = await getAllArticles(isAuth, token, currentPage);\r\n      await setArticlesCount(articlesCount);\r\n    };\r\n    if (isFirstValidate) {\r\n      getArticles();\r\n    }\r\n  }, [isAuth, currentPage, getAllArticles, token, isFirstValidate]);\r\n\r\n  const renderArticles = () =>\r\n    isLoadingArticles ? (\r\n      <div className={styles.loaderWrap}>\r\n        <LoadingOutlined style={{ fontSize: 40 }} />\r\n      </div>\r\n    ) : (\r\n      articles.map((article) => (\r\n        <ArticleItem\r\n          key={article.id}\r\n          {...article}\r\n          token={token}\r\n          isAuth={isAuth}\r\n        />\r\n      ))\r\n    );\r\n\r\n  return (\r\n    <div className={styles.home}>\r\n      <div className={styles.articlesHeader}>\r\n        <h2 className={styles.articlesTitle}>Articles List:</h2>\r\n        <Link to=\"/add\" className={styles.articlesCreateLink}>\r\n          <h3 className={styles.articlesCreateLinkText}>Create article</h3>\r\n          <DiffOutlined />\r\n        </Link>\r\n      </div>\r\n      <div className={styles.articlesWrap}>{renderArticles()}</div>\r\n      <div className={styles.pagination}>\r\n        <Pagination\r\n          defaultCurrent={1}\r\n          currentPage={currentPage}\r\n          total={articlesCount || 10}\r\n          pageSize={articlesCountOnPage}\r\n          showSizeChanger={false}\r\n          onChange={onChangeCurrentPage}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProp = (state) => ({\r\n  isLoadingArticles: state.reducerArticles.isLoadingArticles,\r\n  articles: state.reducerArticles.articles,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  token: state.reducerAuth.currentUser.token,\r\n  isFirstValidate: state.reducerAuth.currentUser.isFirstValidate,\r\n});\r\n\r\nexport default connect(mapStateToProp, { getAllArticles })(Home);\r\n","import React from 'react';\r\n\r\nexport const ModalError = ({ errors }) => {\r\n  return (\r\n    <div className=\"errorModal\">\r\n      <h3>{errors}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ModalSuccess = () => {\r\n  return <div className=\"successModal\">Success!</div>;\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { Input } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { FormInput, FormArea } from '../../formFields/index';\r\nimport { fetchCreateArticle } from '../../../api/articles/index';\r\nimport { ModalSuccess } from '../../modal/index';\r\n\r\nconst schema = yup.object().shape({\r\n  title: yup.string().required(),\r\n  description: yup.string().required(),\r\n  body: yup.string().required(),\r\n  tagList: yup.string(),\r\n});\r\n\r\nconst handleCreateArticle = async (values, token, setIsCreateArticle) => {\r\n  const data = {\r\n    article: {\r\n      ...values,\r\n      tagList: [...new Set(values.tagList.split(' '))],\r\n    },\r\n  };\r\n  try {\r\n    await fetchCreateArticle(data, token);\r\n\r\n    await setTimeout(() => {\r\n      setIsCreateArticle(false);\r\n    }, 1000);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst CreateArticle = ({ token }) => {\r\n  const [isCreateArticle, setIsCreateArticle] = useState(false);\r\n  const renderForm = (handleSubmit) => {\r\n    return (\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form\">\r\n          {isCreateArticle ? (\r\n            <ModalSuccess />\r\n          ) : (\r\n            <>\r\n              <h2 className=\"title\">Create article</h2>\r\n              <hr className=\"lineTitle\" />\r\n              <span>Title</span>\r\n              <FormInput name=\"title\" placeholder=\"enter title...\" />\r\n              <span>Description:</span>\r\n              <FormInput\r\n                name=\"description\"\r\n                placeholder=\"enter description...\"\r\n              />\r\n              <span>Body:</span>\r\n              <FormArea name=\"body\" placeholder=\"enter body...\" />\r\n              <span>Tags:</span>\r\n              <FormInput\r\n                name=\"tagList\"\r\n                placeholder=\"write tags with a space...\"\r\n              />\r\n              <Input\r\n                type=\"submit\"\r\n                value=\"Create\"\r\n                style={{ marginTop: '8px' }}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          description: '',\r\n          body: '',\r\n          tagList: '',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values, { resetForm }) => {\r\n          handleCreateArticle(values, token, setIsCreateArticle);\r\n          resetForm();\r\n          setIsCreateArticle(true);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return renderForm(handleSubmit);\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  token: state.reducerAuth.currentUser.token,\r\n});\r\nexport default connect(mapStateToProps)(CreateArticle);\r\n","import React, { useEffect } from 'react';\r\nimport styles from './ArticleInfo.module.css';\r\nimport { Avatar, Button } from 'antd';\r\nimport { LoadingOutlined, DeleteFilled, EditFilled } from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport { getFormatedDate } from '../../../utils';\r\nimport { getArticle } from '../../../redux/actions/articles';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchDeleteArticle } from '../../../api/articles';\r\n\r\nconst ArticleInfo = ({\r\n  token,\r\n  username,\r\n  isAuth,\r\n  isFirstValidate,\r\n  location,\r\n  article,\r\n  author,\r\n  getArticle,\r\n  isLoadingArticles,\r\n  history,\r\n}) => {\r\n  const { title, createdAt, updatedAt, description, body, tagList } = article;\r\n  useEffect(() => {\r\n    const path = location.pathname;\r\n    if (isFirstValidate) {\r\n      getArticle(path, token, isAuth);\r\n    }\r\n  }, [location, getArticle, token, isAuth, isFirstValidate]);\r\n\r\n  const handleDeleteArticle = () => {\r\n    const pathname = location.pathname;\r\n    fetchDeleteArticle(pathname, token);\r\n    history.goBack();\r\n  };\r\n\r\n  const renderArticle = () => {\r\n    return (\r\n      <div className={styles.article}>\r\n        <div className={styles.articleProfile}>\r\n          <Avatar src={author.image} size={120} />\r\n          <h1 className={styles.articleTitle}>\r\n            name: <span className={styles.textWrap}>{author.username}</span>\r\n          </h1>\r\n          <span className={styles.articleTitle}>\r\n            bio: <span className={styles.textWrap}>{author.bio}</span>\r\n          </span>\r\n        </div>\r\n        <div className={styles.articleContent}>\r\n          <h1 className={styles.articleTitle}>\r\n            title: <span className={styles.textWrap}>{title}</span>\r\n          </h1>\r\n          <h2 className={styles.articleSubtitle}>\r\n            description:{' '}\r\n            <span className={styles.articleText}>{description}</span>\r\n          </h2>\r\n          <span className={styles.articleDate}>\r\n            createdAt:{' '}\r\n            <span className={styles.articleText}>\r\n              {getFormatedDate(createdAt)}\r\n            </span>\r\n          </span>\r\n          <span className={styles.articleDate}>\r\n            updatedAt:{' '}\r\n            <span className={styles.articleText}>\r\n              {getFormatedDate(updatedAt)}\r\n            </span>\r\n          </span>\r\n          <span className={styles.articleBody}>\r\n            body: <span className={styles.articleText}>{body}</span>\r\n          </span>\r\n          <span className={styles.tagList}>\r\n            tags:{' '}\r\n            {tagList.map((tag) => (\r\n              <p key={tag} className={styles.tag}>\r\n                {tag}\r\n              </p>\r\n            ))}\r\n          </span>\r\n          <div className={styles.lineUpFooter} />\r\n          <div className={styles.footer}>\r\n            <div className={styles.btnsWrap}>\r\n              <Link\r\n                to={`${location.pathname}/edit`}\r\n                disabled={username !== author.username}\r\n                className=\"linkWithImgRigth\"\r\n              >\r\n                <span className=\"linkWithImageRigthText\">Edit</span>\r\n                <EditFilled />\r\n              </Link>\r\n              <Button\r\n                type=\"link\"\r\n                disabled={username !== author.username}\r\n                className={styles.btnDelete}\r\n                onClick={handleDeleteArticle}\r\n              >\r\n                <span>Delete</span>\r\n                <DeleteFilled />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoadingArticles ? (\r\n        <div className={styles.loaderWrap}>\r\n          <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n        </div>\r\n      ) : (\r\n        renderArticle()\r\n      )}\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  article: state.reducerArticles.article,\r\n  author: state.reducerArticles.article.author,\r\n  isLoadingArticles: state.reducerArticles.isLoadingArticles,\r\n  token: state.reducerAuth.currentUser.token,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  username: state.reducerAuth.currentUser.username,\r\n  isFirstValidate: state.reducerAuth.currentUser.isFirstValidate,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getArticle })(ArticleInfo);\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from '../../auth/Auth.module.css';\r\nimport { Formik } from 'formik';\r\nimport { Input } from 'formik-antd';\r\nimport * as yup from 'yup';\r\nimport { connect } from 'react-redux';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { FormInput } from '../../formFields/index';\r\nimport { getArticle } from '../../../redux/actions/articles';\r\nimport { fetchUpdateArticle } from '../../../api/articles';\r\nimport _ from 'lodash';\r\nimport { ModalSuccess } from '../../modal/index';\r\n\r\nconst ComponentEditArticle = ({\r\n  isLoadingArticles,\r\n  article,\r\n  token,\r\n  isAuth,\r\n  getArticle,\r\n}) => {\r\n  const { title, description, body, tagList } = article;\r\n  const [isEditSuccess, setIsEditSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let path = window.location.pathname;\r\n    path = path.substr(0, path.length - 5);\r\n    getArticle(path, token, isAuth);\r\n  }, [token, isAuth, getArticle]);\r\n\r\n  const handleEditArticle = (values) => {\r\n    const valuesWithoutEmptyFields = _.omitBy(\r\n      values,\r\n      (value, key) => value === ''\r\n    );\r\n    const data = {\r\n      article: {\r\n        ...valuesWithoutEmptyFields,\r\n        tagList: [...new Set(values.tagList.split(' '))],\r\n      },\r\n    };\r\n    let path = window.location.pathname;\r\n    path = path.substr(0, path.length - 5);\r\n    fetchUpdateArticle(path, token, data);\r\n    setTimeout(() => {\r\n      setIsEditSuccess(false);\r\n      window.history.back();\r\n    }, 1000);\r\n  };\r\n\r\n  const renderForm = (handleSubmit) => {\r\n    return (\r\n      <form onSubmit={handleSubmit} className={styles.formAuth}>\r\n        {isEditSuccess ? (\r\n          <ModalSuccess />\r\n        ) : (\r\n          <>\r\n            <h1 className={styles.title}>Edit article</h1>\r\n            <hr className={styles.lineBottomTitle} />\r\n            <label>title</label>\r\n            <FormInput name=\"title\" component=\"input\" placeholder={title} />\r\n            <label>description</label>\r\n            <FormInput\r\n              name=\"description\"\r\n              component=\"input\"\r\n              placeholder={description}\r\n            />\r\n            <label>body</label>\r\n            <FormInput name=\"body\" component=\"input\" placeholder={body} />\r\n            <label>tagList</label>\r\n            <FormInput name=\"tagList\" component=\"input\" placeholder={tagList} />\r\n            <div className={styles.btnsWrap}>\r\n              <Input type=\"submit\" value=\"Edit\" style={{ width: '100px' }} />\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const schema = yup.object().shape({\r\n    title: yup.string(),\r\n    description: yup.string(),\r\n    body: yup.string(),\r\n    tagList: yup.string(),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          description: '',\r\n          body: '',\r\n          tagList: '',\r\n        }}\r\n        validationSchema={() => schema}\r\n        onSubmit={(values) => {\r\n          handleEditArticle(values);\r\n          setIsEditSuccess(true);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => {\r\n          return (\r\n            <>\r\n              {isLoadingArticles ? (\r\n                <div className={styles.loaderWrap}>\r\n                  <LoadingOutlined style={{ fontSize: 40 }} spin />\r\n                </div>\r\n              ) : (\r\n                renderForm(handleSubmit)\r\n              )}\r\n            </>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoadingAuth: state.reducerAuth.currentUser.isLoadingAuth,\r\n  token: state.reducerAuth.currentUser.token,\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n  isLoadingArticles: state.reducerArticles.isLoadingArticles,\r\n  article: state.reducerArticles.article,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getArticle })(ComponentEditArticle);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PrivateRoute = ({ component: Component, isAuth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuth || localStorage.currentUser ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/sign-in\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default connect((state) => ({\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n}))(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst AuthRoute = ({ component: Component, isAuth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuth ? <Redirect to=\"/\" /> : <Component {...props} />\r\n    }\r\n  />\r\n);\r\n\r\nexport default connect((state) => ({\r\n  isAuth: state.reducerAuth.currentUser.isAuth,\r\n}))(AuthRoute);\r\n","import React, { useEffect } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Header from './components/header';\nimport { connect } from 'react-redux';\nimport FormSignIn from './components/auth/signIn/index';\nimport FormSignUp from './components/auth/signUp/index';\nimport Home from './components/home';\nimport {\n  firstValidateUserRequest,\n  firstValidateUserSuccess,\n  firstValidateUserFailure,\n} from './redux/actions/auth';\nimport { getItemDB } from './utils';\nimport { ModalError } from './components/modal';\nimport CreateArticle from './components/articles/createArticle';\nimport ArticleInfo from './components/articles/article/index';\nimport ComponentEditArticle from './components/articles/edit/index';\nimport PrivateRoute from './components/routes/private/index';\nimport AuthRoute from './components/routes/auth/index';\n\nconst App = ({ isAuth, dispatch, errors }) => {\n  //при монтировании проверяем вышел ли пользователь из профиля в прошлый раз\n  useEffect(() => {\n    dispatch(firstValidateUserRequest());\n    if (localStorage.currentUser) {\n      const currentUser = getItemDB('currentUser');\n      dispatch(\n        firstValidateUserSuccess({ currentUser, isFirstValidate: true })\n      );\n    } else {\n      dispatch(firstValidateUserFailure({ isFirstValidate: true }));\n    }\n  }, [dispatch]);\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <div className=\"content\">\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <AuthRoute path=\"/sign-in\" component={FormSignIn} />\n          <AuthRoute path=\"/sign-up\" component={FormSignUp} />\n          <PrivateRoute path=\"/add\" component={CreateArticle} />\n          <PrivateRoute\n            path=\"/articles/:slug/edit\"\n            exact\n            component={ComponentEditArticle}\n          />\n          <Route path=\"/articles/:slug\" exact component={ArticleInfo} />\n          <Redirect to=\"/sign-in\" />\n        </Switch>\n      </div>\n      {errors ? <ModalError errors={errors} /> : null}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.reducerAuth.currentUser.isAuth,\n  errors: state.reducerErrors.errors,\n});\n\nexport default connect(mapStateToProps)(App);\n","import { handleActions } from 'redux-actions';\r\nimport {\r\n  signUpUserRequest,\r\n  signUpUserSuccess,\r\n  signUpUserFailure,\r\n  signInUserRequest,\r\n  signInUserSuccess,\r\n  signInUserFailure,\r\n  firstValidateUserRequest,\r\n  firstValidateUserSuccess,\r\n  firstValidateUserFailure,\r\n  logout,\r\n} from '../../actions/auth/index';\r\n\r\nconst initValues = {\r\n  currentUser: {\r\n    isAuth: false,\r\n    username: null,\r\n    token: null,\r\n    isLoadingAuth: false,\r\n    isFirstValidate: false,\r\n  },\r\n};\r\n\r\nexport const reducerAuth = handleActions(\r\n  {\r\n    // sign-up\r\n\r\n    [signUpUserRequest]: (state, { payload: { isLoadingAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n        },\r\n      };\r\n    },\r\n    [signUpUserSuccess]: (\r\n      state,\r\n      { payload: { isAuth, token, name, isLoadingAuth } }\r\n    ) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n        },\r\n      };\r\n    },\r\n    [signUpUserFailure]: (state, { payload: { isLoadingAuth, isAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n          isAuth,\r\n        },\r\n      };\r\n    },\r\n\r\n    // sign-in\r\n\r\n    [signInUserRequest]: (state, { payload: { isLoadingAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n        },\r\n      };\r\n    },\r\n    [signInUserSuccess]: (\r\n      state,\r\n      { payload: { currentUser, isFirstValidate } }\r\n    ) => {\r\n      const { isAuth, token, name, isLoadingAuth } = currentUser;\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n    [signInUserFailure]: (state, { payload: { isLoadingAuth, isAuth } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isLoadingAuth,\r\n          isAuth,\r\n        },\r\n      };\r\n    },\r\n\r\n    // log-out\r\n    [logout]: (state, { payload: { isAuth, isLoadingAuth, token, name } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n        },\r\n      };\r\n    },\r\n    [firstValidateUserRequest]: (state, { payload }) => {\r\n      return { ...state };\r\n    },\r\n    [firstValidateUserSuccess]: (\r\n      state,\r\n      { payload: { currentUser, isFirstValidate } }\r\n    ) => {\r\n      const { isAuth, token, name, isLoadingAuth } = currentUser;\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          isAuth,\r\n          username: name,\r\n          token,\r\n          isLoadingAuth,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n    [firstValidateUserFailure]: (state, { payload: { isFirstValidate } }) => {\r\n      return {\r\n        ...state,\r\n        currentUser: {\r\n          ...state.currentUser,\r\n          isFirstValidate,\r\n        },\r\n      };\r\n    },\r\n  },\r\n  initValues\r\n);\r\n","import { handleActions } from 'redux-actions';\r\nimport { setErrorNetwork } from '../../actions/errors/index';\r\n\r\nconst initValues = {\r\n  errors: null,\r\n};\r\n\r\nexport const reducerErrors = handleActions(\r\n  {\r\n    [setErrorNetwork]: (state, { payload: { error } }) => {\r\n      return {\r\n        ...state,\r\n        errors: error.message,\r\n      };\r\n    },\r\n  },\r\n  initValues\r\n);\r\n","import { handleActions } from 'redux-actions';\r\nimport {\r\n  getArticlesAllRequest,\r\n  getArticlesAllSuccess,\r\n  getArticlesAllFailure,\r\n  articleLikeRequest,\r\n  articleLikeSuccess,\r\n  articleLikeFailure,\r\n  articleDislikeRequest,\r\n  articleDislikeSuccess,\r\n  articleDislikeFailure,\r\n  articleRequest,\r\n  articleSuccess,\r\n  articleFailure,\r\n} from '../../actions/articles/index';\r\n\r\nconst initValues = {\r\n  articles: [],\r\n  isLoadingArticles: false,\r\n  article: {\r\n    title: '',\r\n    createdAt: '',\r\n    updatedAt: '',\r\n    description: '',\r\n    body: '',\r\n    tagList: [],\r\n    favorited: false,\r\n    favoritesCount: '',\r\n    author: {\r\n      username: '',\r\n      bio: '',\r\n      image: '',\r\n    },\r\n  },\r\n};\r\n\r\nexport const reducerArticles = handleActions(\r\n  {\r\n    // get all articles\r\n    [getArticlesAllRequest]: (state, { payload: { isLoadingArticles } }) => ({\r\n      ...state,\r\n      isLoadingArticles,\r\n    }),\r\n    [getArticlesAllSuccess]: (\r\n      state,\r\n      { payload: { isLoadingArticles, articles } }\r\n    ) => ({\r\n      ...state,\r\n      isLoadingArticles,\r\n      articles,\r\n    }),\r\n    [getArticlesAllFailure]: (state, { payload: { isLoadingArticles } }) => ({\r\n      ...state,\r\n      isLoadingArticles,\r\n    }),\r\n    // like article\r\n    [articleLikeRequest]: (state, { payload }) => ({ ...state }),\r\n    [articleLikeSuccess]: (state, { payload: { newArticle, slug } }) => {\r\n      const newArticles = state.articles.map((article) => {\r\n        if (article.slug === slug) {\r\n          return { id: article.id, ...newArticle };\r\n        }\r\n        return article;\r\n      });\r\n      return {\r\n        ...state,\r\n        articles: [...newArticles],\r\n      };\r\n    },\r\n    [articleLikeFailure]: (state, { payload }) => ({ ...state }),\r\n    //dislike article\r\n    [articleDislikeRequest]: (state, { payload }) => ({ ...state }),\r\n    [articleDislikeSuccess]: (state, { payload: { newArticle, slug } }) => {\r\n      const newArticles = state.articles.map((article) => {\r\n        if (article.slug === slug) {\r\n          return { id: article.id, ...newArticle };\r\n        }\r\n        return article;\r\n      });\r\n      return {\r\n        ...state,\r\n        articles: [...newArticles],\r\n      };\r\n    },\r\n    [articleDislikeFailure]: (state, { payload }) => ({ ...state }),\r\n\r\n    // get article\r\n    [articleRequest]: (state, { payload: { isLoadingArticles } }) => {\r\n      return { ...state, isLoadingArticles };\r\n    },\r\n    [articleSuccess]: (state, { payload: { isLoadingArticles, article } }) => {\r\n      return {\r\n        ...state,\r\n        isLoadingArticles,\r\n        article\r\n      };\r\n    },\r\n    [articleFailure]: (state, { payload: { isLoadingArticles } }) => {\r\n      return { ...state, isLoadingArticles };\r\n    },\r\n  },\r\n\r\n  initValues\r\n);\r\n","import { combineReducers } from 'redux';\r\nimport { reducerAuth } from '../auth/index';\r\nimport { reducerErrors } from '../errors/index';\r\nimport { reducerArticles } from '../articles/index';\r\n\r\nexport const rootReducer = combineReducers({\r\n  reducerAuth,\r\n  reducerErrors,\r\n  reducerArticles,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from '../reducers/root/index';\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport App from './App.jsx';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store/index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articleLinkWrap\":\"Article_articleLinkWrap__q91Uk\",\"article\":\"Article_article__5Kr4S\",\"date\":\"Article_date__6F7Vq\",\"title\":\"Article_title__h33Uk\",\"titleLink\":\"Article_titleLink__3aXDj\",\"autorWrap\":\"Article_autorWrap__1q7fB\",\"author\":\"Article_author__29AUu\",\"likes\":\"Article_likes__2-uMF\",\"tags\":\"Article_tags__1_EDw\",\"tag\":\"Article_tag__1I3Ub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__1K9aC\",\"articlesWrap\":\"Home_articlesWrap__DMIhy\",\"articlesCreateLink\":\"Home_articlesCreateLink__3ca2H\",\"articlesCreateLinkText\":\"Home_articlesCreateLinkText__24f57\",\"loaderWrap\":\"Home_loaderWrap__2VnKY\",\"pagination\":\"Home_pagination__Op0Ch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"ArticleInfo_article__o9XkH\",\"articleProfile\":\"ArticleInfo_articleProfile__1pdRC\",\"articleTitle\":\"ArticleInfo_articleTitle__1o-TV\",\"articleSubtitle\":\"ArticleInfo_articleSubtitle__288pq\",\"bio\":\"ArticleInfo_bio__2OyHF\",\"articleText\":\"ArticleInfo_articleText___z9VY\",\"textWrap\":\"ArticleInfo_textWrap__12A-U\",\"articleDate\":\"ArticleInfo_articleDate__2RvlR\",\"articleBody\":\"ArticleInfo_articleBody__3wINl\",\"articleContent\":\"ArticleInfo_articleContent__1vIbT\",\"tagList\":\"ArticleInfo_tagList__1-9Lv\",\"tag\":\"ArticleInfo_tag__2i-Eh\",\"footer\":\"ArticleInfo_footer__3Oiui\",\"likes\":\"ArticleInfo_likes__2Vs-5\",\"lineUpFooter\":\"ArticleInfo_lineUpFooter__2yu2X\",\"footerLikes\":\"ArticleInfo_footerLikes__Rti1j\",\"btnsWrap\":\"ArticleInfo_btnsWrap__16uer\",\"btnDelete\":\"ArticleInfo_btnDelete__2buwg\"};"],"sourceRoot":""}